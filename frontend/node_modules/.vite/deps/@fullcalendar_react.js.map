{
  "version": 3,
  "sources": ["../../@fullcalendar/react/src/index.tsx"],
  "sourcesContent": ["/* eslint-disable @typescript-eslint/no-explicit-any */\nimport React, { Component, createRef, ReactPortal } from 'react'\nimport { createPortal } from 'react-dom'\nimport {\n  CalendarOptions,\n  CalendarApi,\n  Calendar,\n} from '@fullcalendar/core'\nimport {\n  CustomRendering,\n  CustomRenderingStore,\n} from '@fullcalendar/core/internal'\n\ninterface CalendarState {\n  customRenderingMap: Map<string, CustomRendering<any>>\n}\n\nexport default class FullCalendar extends Component<CalendarOptions, CalendarState> {\n  static act = (f: () => void) => { f() }\n\n  private elRef = createRef<HTMLDivElement>()\n  private calendar: Calendar\n  private customRenderingRequestId: any\n  private handleCustomRendering: (customRendering: CustomRendering<any>) => void\n  private needsCustomRenderingResize = false\n  private isInitialRender = true\n\n  state: CalendarState = {\n    customRenderingMap: new Map<string, CustomRendering<any>>()\n  }\n\n  render() {\n    const portalNodes: ReactPortal[] = []\n\n    for (const customRendering of this.state.customRenderingMap.values()) {\n      const { generatorMeta } = customRendering\n      const vnode = typeof generatorMeta === 'function' ?\n        generatorMeta(customRendering.renderProps) :\n        generatorMeta\n\n      portalNodes.push(\n        createPortal(\n          vnode,\n          customRendering.containerEl,\n          customRendering.id, // key\n        )\n      )\n    }\n\n    return (\n      <div ref={this.elRef}>\n        {portalNodes}\n      </div>\n    )\n  }\n\n  componentDidMount() {\n    const customRenderingStore = new CustomRenderingStore<unknown>()\n    this.handleCustomRendering = customRenderingStore.handle.bind(customRenderingStore)\n\n    this.calendar = new Calendar(this.elRef.current, {\n      ...this.props,\n      handleCustomRendering: this.handleCustomRendering,\n    })\n\n    this.calendar.render()\n\n    customRenderingStore.subscribe((customRenderingMap) => {\n      if (this.isInitialRender) {\n        this.doCustomRendering(customRenderingMap)\n      } else {\n        this.requestCustomRendering(customRenderingMap)\n      }\n    })\n  }\n\n  requestCustomRendering(customRenderingMap) {\n    this.cancelCustomRendering()\n    this.customRenderingRequestId = requestAnimationFrame(() => {\n      FullCalendar.act(() => {\n        this.doCustomRendering(customRenderingMap)\n      })\n    })\n  }\n\n  doCustomRendering(customRenderingMap) {\n    this.needsCustomRenderingResize = true\n    this.setState({ customRenderingMap })\n  }\n\n  cancelCustomRendering() {\n    if (this.customRenderingRequestId) {\n      cancelAnimationFrame(this.customRenderingRequestId)\n      this.customRenderingRequestId = undefined\n    }\n  }\n\n  componentDidUpdate() {\n    this.isInitialRender = false\n    this.calendar.resetOptions({\n      ...this.props,\n      handleCustomRendering: this.handleCustomRendering,\n    })\n\n    if (this.needsCustomRenderingResize) {\n      this.needsCustomRenderingResize = false\n      this.calendar.updateSize()\n    }\n  }\n\n  componentWillUnmount() {\n    this.calendar.destroy()\n    this.cancelCustomRendering()\n  }\n\n  getApi(): CalendarApi {\n    return this.calendar\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;;;;;AACA,mBAAyD;AACzD,uBAA6B;AAe7B,IAAqB,eAArB,MAAqB,sBAAqB,uBAAyC;EAAnF,cAAA;;AAGU,SAAA,YAAQ,wBAAS;AAIjB,SAAA,6BAA6B;AAC7B,SAAA,kBAAkB;AAE1B,SAAA,QAAuB;MACrB,oBAAoB,oBAAI,IAAG;;EA0F/B;EAvFE,SAAM;AACJ,UAAM,cAA6B,CAAA;AAEnC,eAAW,mBAAmB,KAAK,MAAM,mBAAmB,OAAM,GAAI;AACpE,YAAM,EAAE,cAAa,IAAK;AAC1B,YAAM,QAAQ,OAAO,kBAAkB,aACrC,cAAc,gBAAgB,WAAW,IACzC;AAEF,kBAAY,SACV,+BACE,OACA,gBAAgB,aAChB,gBAAgB,EAAE,CACnB;;AAIL,WACE,aAAAA,QAAA,cAAA,OAAA,EAAK,KAAK,KAAK,MAAK,GACjB,WAAW;EAGlB;EAEA,oBAAiB;AACf,UAAM,uBAAuB,IAAI,qBAAoB;AACrD,SAAK,wBAAwB,qBAAqB,OAAO,KAAK,oBAAoB;AAElF,SAAK,WAAW,IAAI,SAAS,KAAK,MAAM,SAAO,OAAA,OAAA,OAAA,OAAA,CAAA,GAC1C,KAAK,KAAK,GAAA,EACb,uBAAuB,KAAK,sBAAqB,CAAA,CAAA;AAGnD,SAAK,SAAS,OAAM;AAEpB,yBAAqB,UAAU,CAAC,uBAAsB;AACpD,UAAI,KAAK,iBAAiB;AACxB,aAAK,kBAAkB,kBAAkB;aACpC;AACL,aAAK,uBAAuB,kBAAkB;;IAElD,CAAC;EACH;EAEA,uBAAuB,oBAAkB;AACvC,SAAK,sBAAqB;AAC1B,SAAK,2BAA2B,sBAAsB,MAAK;AACzD,oBAAa,IAAI,MAAK;AACpB,aAAK,kBAAkB,kBAAkB;MAC3C,CAAC;IACH,CAAC;EACH;EAEA,kBAAkB,oBAAkB;AAClC,SAAK,6BAA6B;AAClC,SAAK,SAAS,EAAE,mBAAkB,CAAE;EACtC;EAEA,wBAAqB;AACnB,QAAI,KAAK,0BAA0B;AACjC,2BAAqB,KAAK,wBAAwB;AAClD,WAAK,2BAA2B;;EAEpC;EAEA,qBAAkB;AAChB,SAAK,kBAAkB;AACvB,SAAK,SAAS,aAAY,OAAA,OAAA,OAAA,OAAA,CAAA,GACrB,KAAK,KAAK,GAAA,EACb,uBAAuB,KAAK,sBAAqB,CAAA,CAAA;AAGnD,QAAI,KAAK,4BAA4B;AACnC,WAAK,6BAA6B;AAClC,WAAK,SAAS,WAAU;;EAE5B;EAEA,uBAAoB;AAClB,SAAK,SAAS,QAAO;AACrB,SAAK,sBAAqB;EAC5B;EAEA,SAAM;AACJ,WAAO,KAAK;EACd;;AAnGO,aAAA,MAAM,CAAC,MAAiB;AAAG,IAAC;AAAG;",
  "names": ["React"]
}
