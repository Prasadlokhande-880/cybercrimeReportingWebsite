{
  "version": 3,
  "sources": ["../../@fullcalendar/timegrid/internal.js", "../../@fullcalendar/timegrid/index.js"],
  "sourcesContent": ["import { Splitter, hasBgRendering, createFormatter, ViewContextType, ContentContainer, BaseComponent, DateComponent, diffDays, buildNavLinkAttrs, WeekNumberContainer, getStickyHeaderDates, ViewContainer, SimpleScrollGrid, getStickyFooterScrollbar, NowTimer, NowIndicatorContainer, renderScrollShim, rangeContainsMarker, startOfDay, asRoughMs, createDuration, RefMap, PositionCache, MoreLinkContainer, SegHierarchy, groupIntersectingEntries, binarySearch, getEntrySpanEnd, buildEntryKey, StandardEvent, memoize, sortEventSegs, DayCellContainer, hasCustomDayCellContent, getSegMeta, buildIsoString, computeEarliestSegStart, buildEventRangeKey, BgEvent, renderFill, addDurations, multiplyDuration, wholeDivideDurations, Slicer, intersectRanges, formatIsoTimeString, DayHeader, DaySeriesModel, DayTableModel } from '@fullcalendar/core/internal';\r\nimport { createElement, createRef, Fragment } from '@fullcalendar/core/preact';\r\nimport { DayTable } from '@fullcalendar/daygrid/internal';\r\n\r\nclass AllDaySplitter extends Splitter {\r\n    getKeyInfo() {\r\n        return {\r\n            allDay: {},\r\n            timed: {},\r\n        };\r\n    }\r\n    getKeysForDateSpan(dateSpan) {\r\n        if (dateSpan.allDay) {\r\n            return ['allDay'];\r\n        }\r\n        return ['timed'];\r\n    }\r\n    getKeysForEventDef(eventDef) {\r\n        if (!eventDef.allDay) {\r\n            return ['timed'];\r\n        }\r\n        if (hasBgRendering(eventDef)) {\r\n            return ['timed', 'allDay'];\r\n        }\r\n        return ['allDay'];\r\n    }\r\n}\r\n\r\nconst DEFAULT_SLAT_LABEL_FORMAT = createFormatter({\r\n    hour: 'numeric',\r\n    minute: '2-digit',\r\n    omitZeroMinute: true,\r\n    meridiem: 'short',\r\n});\r\nfunction TimeColsAxisCell(props) {\r\n    let classNames = [\r\n        'fc-timegrid-slot',\r\n        'fc-timegrid-slot-label',\r\n        props.isLabeled ? 'fc-scrollgrid-shrink' : 'fc-timegrid-slot-minor',\r\n    ];\r\n    return (createElement(ViewContextType.Consumer, null, (context) => {\r\n        if (!props.isLabeled) {\r\n            return (createElement(\"td\", { className: classNames.join(' '), \"data-time\": props.isoTimeStr }));\r\n        }\r\n        let { dateEnv, options, viewApi } = context;\r\n        let labelFormat = // TODO: fully pre-parse\r\n         options.slotLabelFormat == null ? DEFAULT_SLAT_LABEL_FORMAT :\r\n            Array.isArray(options.slotLabelFormat) ? createFormatter(options.slotLabelFormat[0]) :\r\n                createFormatter(options.slotLabelFormat);\r\n        let renderProps = {\r\n            level: 0,\r\n            time: props.time,\r\n            date: dateEnv.toDate(props.date),\r\n            view: viewApi,\r\n            text: dateEnv.format(props.date, labelFormat),\r\n        };\r\n        return (createElement(ContentContainer, { elTag: \"td\", elClasses: classNames, elAttrs: {\r\n                'data-time': props.isoTimeStr,\r\n            }, renderProps: renderProps, generatorName: \"slotLabelContent\", customGenerator: options.slotLabelContent, defaultGenerator: renderInnerContent, classNameGenerator: options.slotLabelClassNames, didMount: options.slotLabelDidMount, willUnmount: options.slotLabelWillUnmount }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame\" },\r\n            createElement(InnerContent, { elTag: \"div\", elClasses: [\r\n                    'fc-timegrid-slot-label-cushion',\r\n                    'fc-scrollgrid-shrink-cushion',\r\n                ] })))));\r\n    }));\r\n}\r\nfunction renderInnerContent(props) {\r\n    return props.text;\r\n}\r\n\r\nclass TimeBodyAxis extends BaseComponent {\r\n    render() {\r\n        return this.props.slatMetas.map((slatMeta) => (createElement(\"tr\", { key: slatMeta.key },\r\n            createElement(TimeColsAxisCell, Object.assign({}, slatMeta)))));\r\n    }\r\n}\r\n\r\nconst DEFAULT_WEEK_NUM_FORMAT = createFormatter({ week: 'short' });\r\nconst AUTO_ALL_DAY_MAX_EVENT_ROWS = 5;\r\nclass TimeColsView extends DateComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.allDaySplitter = new AllDaySplitter(); // for use by subclasses\r\n        this.headerElRef = createRef();\r\n        this.rootElRef = createRef();\r\n        this.scrollerElRef = createRef();\r\n        this.state = {\r\n            slatCoords: null,\r\n        };\r\n        this.handleScrollTopRequest = (scrollTop) => {\r\n            let scrollerEl = this.scrollerElRef.current;\r\n            if (scrollerEl) { // TODO: not sure how this could ever be null. weirdness with the reducer\r\n                scrollerEl.scrollTop = scrollTop;\r\n            }\r\n        };\r\n        /* Header Render Methods\r\n        ------------------------------------------------------------------------------------------------------------------*/\r\n        this.renderHeadAxis = (rowKey, frameHeight = '') => {\r\n            let { options } = this.context;\r\n            let { dateProfile } = this.props;\r\n            let range = dateProfile.renderRange;\r\n            let dayCnt = diffDays(range.start, range.end);\r\n            // only do in day views (to avoid doing in week views that dont need it)\r\n            let navLinkAttrs = (dayCnt === 1)\r\n                ? buildNavLinkAttrs(this.context, range.start, 'week')\r\n                : {};\r\n            if (options.weekNumbers && rowKey === 'day') {\r\n                return (createElement(WeekNumberContainer, { elTag: \"th\", elClasses: [\r\n                        'fc-timegrid-axis',\r\n                        'fc-scrollgrid-shrink',\r\n                    ], elAttrs: {\r\n                        'aria-hidden': true,\r\n                    }, date: range.start, defaultFormat: DEFAULT_WEEK_NUM_FORMAT }, (InnerContent) => (createElement(\"div\", { className: [\r\n                        'fc-timegrid-axis-frame',\r\n                        'fc-scrollgrid-shrink-frame',\r\n                        'fc-timegrid-axis-frame-liquid',\r\n                    ].join(' '), style: { height: frameHeight } },\r\n                    createElement(InnerContent, { elTag: \"a\", elClasses: [\r\n                            'fc-timegrid-axis-cushion',\r\n                            'fc-scrollgrid-shrink-cushion',\r\n                            'fc-scrollgrid-sync-inner',\r\n                        ], elAttrs: navLinkAttrs })))));\r\n            }\r\n            return (createElement(\"th\", { \"aria-hidden\": true, className: \"fc-timegrid-axis\" },\r\n                createElement(\"div\", { className: \"fc-timegrid-axis-frame\", style: { height: frameHeight } })));\r\n        };\r\n        /* Table Component Render Methods\r\n        ------------------------------------------------------------------------------------------------------------------*/\r\n        // only a one-way height sync. we don't send the axis inner-content height to the DayGrid,\r\n        // but DayGrid still needs to have classNames on inner elements in order to measure.\r\n        this.renderTableRowAxis = (rowHeight) => {\r\n            let { options, viewApi } = this.context;\r\n            let renderProps = {\r\n                text: options.allDayText,\r\n                view: viewApi,\r\n            };\r\n            return (\r\n            // TODO: make reusable hook. used in list view too\r\n            createElement(ContentContainer, { elTag: \"td\", elClasses: [\r\n                    'fc-timegrid-axis',\r\n                    'fc-scrollgrid-shrink',\r\n                ], elAttrs: {\r\n                    'aria-hidden': true,\r\n                }, renderProps: renderProps, generatorName: \"allDayContent\", customGenerator: options.allDayContent, defaultGenerator: renderAllDayInner, classNameGenerator: options.allDayClassNames, didMount: options.allDayDidMount, willUnmount: options.allDayWillUnmount }, (InnerContent) => (createElement(\"div\", { className: [\r\n                    'fc-timegrid-axis-frame',\r\n                    'fc-scrollgrid-shrink-frame',\r\n                    rowHeight == null ? ' fc-timegrid-axis-frame-liquid' : '',\r\n                ].join(' '), style: { height: rowHeight } },\r\n                createElement(InnerContent, { elTag: \"span\", elClasses: [\r\n                        'fc-timegrid-axis-cushion',\r\n                        'fc-scrollgrid-shrink-cushion',\r\n                        'fc-scrollgrid-sync-inner',\r\n                    ] })))));\r\n        };\r\n        this.handleSlatCoords = (slatCoords) => {\r\n            this.setState({ slatCoords });\r\n        };\r\n    }\r\n    // rendering\r\n    // ----------------------------------------------------------------------------------------------------\r\n    renderSimpleLayout(headerRowContent, allDayContent, timeContent) {\r\n        let { context, props } = this;\r\n        let sections = [];\r\n        let stickyHeaderDates = getStickyHeaderDates(context.options);\r\n        if (headerRowContent) {\r\n            sections.push({\r\n                type: 'header',\r\n                key: 'header',\r\n                isSticky: stickyHeaderDates,\r\n                chunk: {\r\n                    elRef: this.headerElRef,\r\n                    tableClassName: 'fc-col-header',\r\n                    rowContent: headerRowContent,\r\n                },\r\n            });\r\n        }\r\n        if (allDayContent) {\r\n            sections.push({\r\n                type: 'body',\r\n                key: 'all-day',\r\n                chunk: { content: allDayContent },\r\n            });\r\n            sections.push({\r\n                type: 'body',\r\n                key: 'all-day-divider',\r\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\r\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\r\n                    createElement(\"td\", { className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\r\n            });\r\n        }\r\n        sections.push({\r\n            type: 'body',\r\n            key: 'body',\r\n            liquid: true,\r\n            expandRows: Boolean(context.options.expandRows),\r\n            chunk: {\r\n                scrollerElRef: this.scrollerElRef,\r\n                content: timeContent,\r\n            },\r\n        });\r\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\r\n            createElement(SimpleScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: props.forPrint, cols: [{ width: 'shrink' }], sections: sections })));\r\n    }\r\n    renderHScrollLayout(headerRowContent, allDayContent, timeContent, colCnt, dayMinWidth, slatMetas, slatCoords) {\r\n        let ScrollGrid = this.context.pluginHooks.scrollGridImpl;\r\n        if (!ScrollGrid) {\r\n            throw new Error('No ScrollGrid implementation');\r\n        }\r\n        let { context, props } = this;\r\n        let stickyHeaderDates = !props.forPrint && getStickyHeaderDates(context.options);\r\n        let stickyFooterScrollbar = !props.forPrint && getStickyFooterScrollbar(context.options);\r\n        let sections = [];\r\n        if (headerRowContent) {\r\n            sections.push({\r\n                type: 'header',\r\n                key: 'header',\r\n                isSticky: stickyHeaderDates,\r\n                syncRowHeights: true,\r\n                chunks: [\r\n                    {\r\n                        key: 'axis',\r\n                        rowContent: (arg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderHeadAxis('day', arg.rowSyncHeights[0]))),\r\n                    },\r\n                    {\r\n                        key: 'cols',\r\n                        elRef: this.headerElRef,\r\n                        tableClassName: 'fc-col-header',\r\n                        rowContent: headerRowContent,\r\n                    },\r\n                ],\r\n            });\r\n        }\r\n        if (allDayContent) {\r\n            sections.push({\r\n                type: 'body',\r\n                key: 'all-day',\r\n                syncRowHeights: true,\r\n                chunks: [\r\n                    {\r\n                        key: 'axis',\r\n                        rowContent: (contentArg) => (createElement(\"tr\", { role: \"presentation\" }, this.renderTableRowAxis(contentArg.rowSyncHeights[0]))),\r\n                    },\r\n                    {\r\n                        key: 'cols',\r\n                        content: allDayContent,\r\n                    },\r\n                ],\r\n            });\r\n            sections.push({\r\n                key: 'all-day-divider',\r\n                type: 'body',\r\n                outerContent: ( // TODO: rename to cellContent so don't need to define <tr>?\r\n                createElement(\"tr\", { role: \"presentation\", className: \"fc-scrollgrid-section\" },\r\n                    createElement(\"td\", { colSpan: 2, className: 'fc-timegrid-divider ' + context.theme.getClass('tableCellShaded') }))),\r\n            });\r\n        }\r\n        let isNowIndicator = context.options.nowIndicator;\r\n        sections.push({\r\n            type: 'body',\r\n            key: 'body',\r\n            liquid: true,\r\n            expandRows: Boolean(context.options.expandRows),\r\n            chunks: [\r\n                {\r\n                    key: 'axis',\r\n                    content: (arg) => (\r\n                    // TODO: make this now-indicator arrow more DRY with TimeColsContent\r\n                    createElement(\"div\", { className: \"fc-timegrid-axis-chunk\" },\r\n                        createElement(\"table\", { \"aria-hidden\": true, style: { height: arg.expandRows ? arg.clientHeight : '' } },\r\n                            arg.tableColGroupNode,\r\n                            createElement(\"tbody\", null,\r\n                                createElement(TimeBodyAxis, { slatMetas: slatMetas }))),\r\n                        createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" },\r\n                            createElement(NowTimer, { unit: isNowIndicator ? 'minute' : 'day' /* hacky */ }, (nowDate) => {\r\n                                let nowIndicatorTop = isNowIndicator &&\r\n                                    slatCoords &&\r\n                                    slatCoords.safeComputeTop(nowDate); // might return void\r\n                                if (typeof nowIndicatorTop === 'number') {\r\n                                    return (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: nowDate }));\r\n                                }\r\n                                return null;\r\n                            })))),\r\n                },\r\n                {\r\n                    key: 'cols',\r\n                    scrollerElRef: this.scrollerElRef,\r\n                    content: timeContent,\r\n                },\r\n            ],\r\n        });\r\n        if (stickyFooterScrollbar) {\r\n            sections.push({\r\n                key: 'footer',\r\n                type: 'footer',\r\n                isSticky: true,\r\n                chunks: [\r\n                    {\r\n                        key: 'axis',\r\n                        content: renderScrollShim,\r\n                    },\r\n                    {\r\n                        key: 'cols',\r\n                        content: renderScrollShim,\r\n                    },\r\n                ],\r\n            });\r\n        }\r\n        return (createElement(ViewContainer, { elRef: this.rootElRef, elClasses: ['fc-timegrid'], viewSpec: context.viewSpec },\r\n            createElement(ScrollGrid, { liquid: !props.isHeightAuto && !props.forPrint, collapsibleWidth: false, colGroups: [\r\n                    { width: 'shrink', cols: [{ width: 'shrink' }] },\r\n                    { cols: [{ span: colCnt, minWidth: dayMinWidth }] },\r\n                ], sections: sections })));\r\n    }\r\n    /* Dimensions\r\n    ------------------------------------------------------------------------------------------------------------------*/\r\n    getAllDayMaxEventProps() {\r\n        let { dayMaxEvents, dayMaxEventRows } = this.context.options;\r\n        if (dayMaxEvents === true || dayMaxEventRows === true) { // is auto?\r\n            dayMaxEvents = undefined;\r\n            dayMaxEventRows = AUTO_ALL_DAY_MAX_EVENT_ROWS; // make sure \"auto\" goes to a real number\r\n        }\r\n        return { dayMaxEvents, dayMaxEventRows };\r\n    }\r\n}\r\nfunction renderAllDayInner(renderProps) {\r\n    return renderProps.text;\r\n}\r\n\r\nclass TimeColsSlatsCoords {\r\n    constructor(positions, dateProfile, slotDuration) {\r\n        this.positions = positions;\r\n        this.dateProfile = dateProfile;\r\n        this.slotDuration = slotDuration;\r\n    }\r\n    safeComputeTop(date) {\r\n        let { dateProfile } = this;\r\n        if (rangeContainsMarker(dateProfile.currentRange, date)) {\r\n            let startOfDayDate = startOfDay(date);\r\n            let timeMs = date.valueOf() - startOfDayDate.valueOf();\r\n            if (timeMs >= asRoughMs(dateProfile.slotMinTime) &&\r\n                timeMs < asRoughMs(dateProfile.slotMaxTime)) {\r\n                return this.computeTimeTop(createDuration(timeMs));\r\n            }\r\n        }\r\n        return null;\r\n    }\r\n    // Computes the top coordinate, relative to the bounds of the grid, of the given date.\r\n    // A `startOfDayDate` must be given for avoiding ambiguity over how to treat midnight.\r\n    computeDateTop(when, startOfDayDate) {\r\n        if (!startOfDayDate) {\r\n            startOfDayDate = startOfDay(when);\r\n        }\r\n        return this.computeTimeTop(createDuration(when.valueOf() - startOfDayDate.valueOf()));\r\n    }\r\n    // Computes the top coordinate, relative to the bounds of the grid, of the given time (a Duration).\r\n    // This is a makeshify way to compute the time-top. Assumes all slatMetas dates are uniform.\r\n    // Eventually allow computation with arbirary slat dates.\r\n    computeTimeTop(duration) {\r\n        let { positions, dateProfile } = this;\r\n        let len = positions.els.length;\r\n        // floating-point value of # of slots covered\r\n        let slatCoverage = (duration.milliseconds - asRoughMs(dateProfile.slotMinTime)) / asRoughMs(this.slotDuration);\r\n        let slatIndex;\r\n        let slatRemainder;\r\n        // compute a floating-point number for how many slats should be progressed through.\r\n        // from 0 to number of slats (inclusive)\r\n        // constrained because slotMinTime/slotMaxTime might be customized.\r\n        slatCoverage = Math.max(0, slatCoverage);\r\n        slatCoverage = Math.min(len, slatCoverage);\r\n        // an integer index of the furthest whole slat\r\n        // from 0 to number slats (*exclusive*, so len-1)\r\n        slatIndex = Math.floor(slatCoverage);\r\n        slatIndex = Math.min(slatIndex, len - 1);\r\n        // how much further through the slatIndex slat (from 0.0-1.0) must be covered in addition.\r\n        // could be 1.0 if slatCoverage is covering *all* the slots\r\n        slatRemainder = slatCoverage - slatIndex;\r\n        return positions.tops[slatIndex] +\r\n            positions.getHeight(slatIndex) * slatRemainder;\r\n    }\r\n}\r\n\r\nclass TimeColsSlatsBody extends BaseComponent {\r\n    render() {\r\n        let { props, context } = this;\r\n        let { options } = context;\r\n        let { slatElRefs } = props;\r\n        return (createElement(\"tbody\", null, props.slatMetas.map((slatMeta, i) => {\r\n            let renderProps = {\r\n                time: slatMeta.time,\r\n                date: context.dateEnv.toDate(slatMeta.date),\r\n                view: context.viewApi,\r\n            };\r\n            return (createElement(\"tr\", { key: slatMeta.key, ref: slatElRefs.createRef(slatMeta.key) },\r\n                props.axis && (createElement(TimeColsAxisCell, Object.assign({}, slatMeta))),\r\n                createElement(ContentContainer, { elTag: \"td\", elClasses: [\r\n                        'fc-timegrid-slot',\r\n                        'fc-timegrid-slot-lane',\r\n                        !slatMeta.isLabeled && 'fc-timegrid-slot-minor',\r\n                    ], elAttrs: {\r\n                        'data-time': slatMeta.isoTimeStr,\r\n                    }, renderProps: renderProps, generatorName: \"slotLaneContent\", customGenerator: options.slotLaneContent, classNameGenerator: options.slotLaneClassNames, didMount: options.slotLaneDidMount, willUnmount: options.slotLaneWillUnmount })));\r\n        })));\r\n    }\r\n}\r\n\r\n/*\r\nfor the horizontal \"slats\" that run width-wise. Has a time axis on a side. Depends on RTL.\r\n*/\r\nclass TimeColsSlats extends BaseComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.rootElRef = createRef();\r\n        this.slatElRefs = new RefMap();\r\n    }\r\n    render() {\r\n        let { props, context } = this;\r\n        return (createElement(\"div\", { ref: this.rootElRef, className: \"fc-timegrid-slots\" },\r\n            createElement(\"table\", { \"aria-hidden\": true, className: context.theme.getClass('table'), style: {\r\n                    minWidth: props.tableMinWidth,\r\n                    width: props.clientWidth,\r\n                    height: props.minHeight,\r\n                } },\r\n                props.tableColGroupNode /* relies on there only being a single <col> for the axis */,\r\n                createElement(TimeColsSlatsBody, { slatElRefs: this.slatElRefs, axis: props.axis, slatMetas: props.slatMetas }))));\r\n    }\r\n    componentDidMount() {\r\n        this.updateSizing();\r\n    }\r\n    componentDidUpdate() {\r\n        this.updateSizing();\r\n    }\r\n    componentWillUnmount() {\r\n        if (this.props.onCoords) {\r\n            this.props.onCoords(null);\r\n        }\r\n    }\r\n    updateSizing() {\r\n        let { context, props } = this;\r\n        if (props.onCoords &&\r\n            props.clientWidth !== null // means sizing has stabilized\r\n        ) {\r\n            let rootEl = this.rootElRef.current;\r\n            if (rootEl.offsetHeight) { // not hidden by css\r\n                props.onCoords(new TimeColsSlatsCoords(new PositionCache(this.rootElRef.current, collectSlatEls(this.slatElRefs.currentMap, props.slatMetas), false, true), this.props.dateProfile, context.options.slotDuration));\r\n            }\r\n        }\r\n    }\r\n}\r\nfunction collectSlatEls(elMap, slatMetas) {\r\n    return slatMetas.map((slatMeta) => elMap[slatMeta.key]);\r\n}\r\n\r\nfunction splitSegsByCol(segs, colCnt) {\r\n    let segsByCol = [];\r\n    let i;\r\n    for (i = 0; i < colCnt; i += 1) {\r\n        segsByCol.push([]);\r\n    }\r\n    if (segs) {\r\n        for (i = 0; i < segs.length; i += 1) {\r\n            segsByCol[segs[i].col].push(segs[i]);\r\n        }\r\n    }\r\n    return segsByCol;\r\n}\r\nfunction splitInteractionByCol(ui, colCnt) {\r\n    let byRow = [];\r\n    if (!ui) {\r\n        for (let i = 0; i < colCnt; i += 1) {\r\n            byRow[i] = null;\r\n        }\r\n    }\r\n    else {\r\n        for (let i = 0; i < colCnt; i += 1) {\r\n            byRow[i] = {\r\n                affectedInstances: ui.affectedInstances,\r\n                isEvent: ui.isEvent,\r\n                segs: [],\r\n            };\r\n        }\r\n        for (let seg of ui.segs) {\r\n            byRow[seg.col].segs.push(seg);\r\n        }\r\n    }\r\n    return byRow;\r\n}\r\n\r\nclass TimeColMoreLink extends BaseComponent {\r\n    render() {\r\n        let { props } = this;\r\n        return (createElement(MoreLinkContainer, { elClasses: ['fc-timegrid-more-link'], elStyle: {\r\n                top: props.top,\r\n                bottom: props.bottom,\r\n            }, allDayDate: null, moreCnt: props.hiddenSegs.length, allSegs: props.hiddenSegs, hiddenSegs: props.hiddenSegs, extraDateSpan: props.extraDateSpan, dateProfile: props.dateProfile, todayRange: props.todayRange, popoverContent: () => renderPlainFgSegs(props.hiddenSegs, props), defaultGenerator: renderMoreLinkInner }, (InnerContent) => (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-more-link-inner', 'fc-sticky'] }))));\r\n    }\r\n}\r\nfunction renderMoreLinkInner(props) {\r\n    return props.shortText;\r\n}\r\n\r\n// segInputs assumed sorted\r\nfunction buildPositioning(segInputs, strictOrder, maxStackCnt) {\r\n    let hierarchy = new SegHierarchy();\r\n    if (strictOrder != null) {\r\n        hierarchy.strictOrder = strictOrder;\r\n    }\r\n    if (maxStackCnt != null) {\r\n        hierarchy.maxStackCnt = maxStackCnt;\r\n    }\r\n    let hiddenEntries = hierarchy.addSegs(segInputs);\r\n    let hiddenGroups = groupIntersectingEntries(hiddenEntries);\r\n    let web = buildWeb(hierarchy);\r\n    web = stretchWeb(web, 1); // all levelCoords/thickness will have 0.0-1.0\r\n    let segRects = webToRects(web);\r\n    return { segRects, hiddenGroups };\r\n}\r\nfunction buildWeb(hierarchy) {\r\n    const { entriesByLevel } = hierarchy;\r\n    const buildNode = cacheable((level, lateral) => level + ':' + lateral, (level, lateral) => {\r\n        let siblingRange = findNextLevelSegs(hierarchy, level, lateral);\r\n        let nextLevelRes = buildNodes(siblingRange, buildNode);\r\n        let entry = entriesByLevel[level][lateral];\r\n        return [\r\n            Object.assign(Object.assign({}, entry), { nextLevelNodes: nextLevelRes[0] }),\r\n            entry.thickness + nextLevelRes[1], // the pressure builds\r\n        ];\r\n    });\r\n    return buildNodes(entriesByLevel.length\r\n        ? { level: 0, lateralStart: 0, lateralEnd: entriesByLevel[0].length }\r\n        : null, buildNode)[0];\r\n}\r\nfunction buildNodes(siblingRange, buildNode) {\r\n    if (!siblingRange) {\r\n        return [[], 0];\r\n    }\r\n    let { level, lateralStart, lateralEnd } = siblingRange;\r\n    let lateral = lateralStart;\r\n    let pairs = [];\r\n    while (lateral < lateralEnd) {\r\n        pairs.push(buildNode(level, lateral));\r\n        lateral += 1;\r\n    }\r\n    pairs.sort(cmpDescPressures);\r\n    return [\r\n        pairs.map(extractNode),\r\n        pairs[0][1], // first item's pressure\r\n    ];\r\n}\r\nfunction cmpDescPressures(a, b) {\r\n    return b[1] - a[1];\r\n}\r\nfunction extractNode(a) {\r\n    return a[0];\r\n}\r\nfunction findNextLevelSegs(hierarchy, subjectLevel, subjectLateral) {\r\n    let { levelCoords, entriesByLevel } = hierarchy;\r\n    let subjectEntry = entriesByLevel[subjectLevel][subjectLateral];\r\n    let afterSubject = levelCoords[subjectLevel] + subjectEntry.thickness;\r\n    let levelCnt = levelCoords.length;\r\n    let level = subjectLevel;\r\n    // skip past levels that are too high up\r\n    for (; level < levelCnt && levelCoords[level] < afterSubject; level += 1)\r\n        ; // do nothing\r\n    for (; level < levelCnt; level += 1) {\r\n        let entries = entriesByLevel[level];\r\n        let entry;\r\n        let searchIndex = binarySearch(entries, subjectEntry.span.start, getEntrySpanEnd);\r\n        let lateralStart = searchIndex[0] + searchIndex[1]; // if exact match (which doesn't collide), go to next one\r\n        let lateralEnd = lateralStart;\r\n        while ( // loop through entries that horizontally intersect\r\n        (entry = entries[lateralEnd]) && // but not past the whole seg list\r\n            entry.span.start < subjectEntry.span.end) {\r\n            lateralEnd += 1;\r\n        }\r\n        if (lateralStart < lateralEnd) {\r\n            return { level, lateralStart, lateralEnd };\r\n        }\r\n    }\r\n    return null;\r\n}\r\nfunction stretchWeb(topLevelNodes, totalThickness) {\r\n    const stretchNode = cacheable((node, startCoord, prevThickness) => buildEntryKey(node), (node, startCoord, prevThickness) => {\r\n        let { nextLevelNodes, thickness } = node;\r\n        let allThickness = thickness + prevThickness;\r\n        let thicknessFraction = thickness / allThickness;\r\n        let endCoord;\r\n        let newChildren = [];\r\n        if (!nextLevelNodes.length) {\r\n            endCoord = totalThickness;\r\n        }\r\n        else {\r\n            for (let childNode of nextLevelNodes) {\r\n                if (endCoord === undefined) {\r\n                    let res = stretchNode(childNode, startCoord, allThickness);\r\n                    endCoord = res[0];\r\n                    newChildren.push(res[1]);\r\n                }\r\n                else {\r\n                    let res = stretchNode(childNode, endCoord, 0);\r\n                    newChildren.push(res[1]);\r\n                }\r\n            }\r\n        }\r\n        let newThickness = (endCoord - startCoord) * thicknessFraction;\r\n        return [endCoord - newThickness, Object.assign(Object.assign({}, node), { thickness: newThickness, nextLevelNodes: newChildren })];\r\n    });\r\n    return topLevelNodes.map((node) => stretchNode(node, 0, 0)[1]);\r\n}\r\n// not sorted in any particular order\r\nfunction webToRects(topLevelNodes) {\r\n    let rects = [];\r\n    const processNode = cacheable((node, levelCoord, stackDepth) => buildEntryKey(node), (node, levelCoord, stackDepth) => {\r\n        let rect = Object.assign(Object.assign({}, node), { levelCoord,\r\n            stackDepth, stackForward: 0 });\r\n        rects.push(rect);\r\n        return (rect.stackForward = processNodes(node.nextLevelNodes, levelCoord + node.thickness, stackDepth + 1) + 1);\r\n    });\r\n    function processNodes(nodes, levelCoord, stackDepth) {\r\n        let stackForward = 0;\r\n        for (let node of nodes) {\r\n            stackForward = Math.max(processNode(node, levelCoord, stackDepth), stackForward);\r\n        }\r\n        return stackForward;\r\n    }\r\n    processNodes(topLevelNodes, 0, 0);\r\n    return rects; // TODO: sort rects by levelCoord to be consistent with toRects?\r\n}\r\n// TODO: move to general util\r\nfunction cacheable(keyFunc, workFunc) {\r\n    const cache = {};\r\n    return (...args) => {\r\n        let key = keyFunc(...args);\r\n        return (key in cache)\r\n            ? cache[key]\r\n            : (cache[key] = workFunc(...args));\r\n    };\r\n}\r\n\r\nfunction computeSegVCoords(segs, colDate, slatCoords = null, eventMinHeight = 0) {\r\n    let vcoords = [];\r\n    if (slatCoords) {\r\n        for (let i = 0; i < segs.length; i += 1) {\r\n            let seg = segs[i];\r\n            let spanStart = slatCoords.computeDateTop(seg.start, colDate);\r\n            let spanEnd = Math.max(spanStart + (eventMinHeight || 0), // :(\r\n            slatCoords.computeDateTop(seg.end, colDate));\r\n            vcoords.push({\r\n                start: Math.round(spanStart),\r\n                end: Math.round(spanEnd), //\r\n            });\r\n        }\r\n    }\r\n    return vcoords;\r\n}\r\nfunction computeFgSegPlacements(segs, segVCoords, // might not have for every seg\r\neventOrderStrict, eventMaxStack) {\r\n    let segInputs = [];\r\n    let dumbSegs = []; // segs without coords\r\n    for (let i = 0; i < segs.length; i += 1) {\r\n        let vcoords = segVCoords[i];\r\n        if (vcoords) {\r\n            segInputs.push({\r\n                index: i,\r\n                thickness: 1,\r\n                span: vcoords,\r\n            });\r\n        }\r\n        else {\r\n            dumbSegs.push(segs[i]);\r\n        }\r\n    }\r\n    let { segRects, hiddenGroups } = buildPositioning(segInputs, eventOrderStrict, eventMaxStack);\r\n    let segPlacements = [];\r\n    for (let segRect of segRects) {\r\n        segPlacements.push({\r\n            seg: segs[segRect.index],\r\n            rect: segRect,\r\n        });\r\n    }\r\n    for (let dumbSeg of dumbSegs) {\r\n        segPlacements.push({ seg: dumbSeg, rect: null });\r\n    }\r\n    return { segPlacements, hiddenGroups };\r\n}\r\n\r\nconst DEFAULT_TIME_FORMAT = createFormatter({\r\n    hour: 'numeric',\r\n    minute: '2-digit',\r\n    meridiem: false,\r\n});\r\nclass TimeColEvent extends BaseComponent {\r\n    render() {\r\n        return (createElement(StandardEvent, Object.assign({}, this.props, { elClasses: [\r\n                'fc-timegrid-event',\r\n                'fc-v-event',\r\n                this.props.isShort && 'fc-timegrid-event-short',\r\n            ], defaultTimeFormat: DEFAULT_TIME_FORMAT })));\r\n    }\r\n}\r\n\r\nclass TimeCol extends BaseComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.sortEventSegs = memoize(sortEventSegs);\r\n    }\r\n    // TODO: memoize event-placement?\r\n    render() {\r\n        let { props, context } = this;\r\n        let { options } = context;\r\n        let isSelectMirror = options.selectMirror;\r\n        let mirrorSegs = // yuck\r\n         (props.eventDrag && props.eventDrag.segs) ||\r\n            (props.eventResize && props.eventResize.segs) ||\r\n            (isSelectMirror && props.dateSelectionSegs) ||\r\n            [];\r\n        let interactionAffectedInstances = // TODO: messy way to compute this\r\n         (props.eventDrag && props.eventDrag.affectedInstances) ||\r\n            (props.eventResize && props.eventResize.affectedInstances) ||\r\n            {};\r\n        let sortedFgSegs = this.sortEventSegs(props.fgEventSegs, options.eventOrder);\r\n        return (createElement(DayCellContainer, { elTag: \"td\", elRef: props.elRef, elClasses: [\r\n                'fc-timegrid-col',\r\n                ...(props.extraClassNames || []),\r\n            ], elAttrs: Object.assign({ role: 'gridcell' }, props.extraDataAttrs), date: props.date, dateProfile: props.dateProfile, todayRange: props.todayRange, extraRenderProps: props.extraRenderProps }, (InnerContent) => (createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\r\n            createElement(\"div\", { className: \"fc-timegrid-col-bg\" },\r\n                this.renderFillSegs(props.businessHourSegs, 'non-business'),\r\n                this.renderFillSegs(props.bgEventSegs, 'bg-event'),\r\n                this.renderFillSegs(props.dateSelectionSegs, 'highlight')),\r\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(sortedFgSegs, interactionAffectedInstances, false, false, false)),\r\n            createElement(\"div\", { className: \"fc-timegrid-col-events\" }, this.renderFgSegs(mirrorSegs, {}, Boolean(props.eventDrag), Boolean(props.eventResize), Boolean(isSelectMirror))),\r\n            createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, this.renderNowIndicator(props.nowIndicatorSegs)),\r\n            hasCustomDayCellContent(options) && (createElement(InnerContent, { elTag: \"div\", elClasses: ['fc-timegrid-col-misc'] }))))));\r\n    }\r\n    renderFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting) {\r\n        let { props } = this;\r\n        if (props.forPrint) {\r\n            return renderPlainFgSegs(sortedFgSegs, props);\r\n        }\r\n        return this.renderPositionedFgSegs(sortedFgSegs, segIsInvisible, isDragging, isResizing, isDateSelecting);\r\n    }\r\n    renderPositionedFgSegs(segs, // if not mirror, needs to be sorted\r\n    segIsInvisible, isDragging, isResizing, isDateSelecting) {\r\n        let { eventMaxStack, eventShortHeight, eventOrderStrict, eventMinHeight } = this.context.options;\r\n        let { date, slatCoords, eventSelection, todayRange, nowDate } = this.props;\r\n        let isMirror = isDragging || isResizing || isDateSelecting;\r\n        let segVCoords = computeSegVCoords(segs, date, slatCoords, eventMinHeight);\r\n        let { segPlacements, hiddenGroups } = computeFgSegPlacements(segs, segVCoords, eventOrderStrict, eventMaxStack);\r\n        return (createElement(Fragment, null,\r\n            this.renderHiddenGroups(hiddenGroups, segs),\r\n            segPlacements.map((segPlacement) => {\r\n                let { seg, rect } = segPlacement;\r\n                let instanceId = seg.eventRange.instance.instanceId;\r\n                let isVisible = isMirror || Boolean(!segIsInvisible[instanceId] && rect);\r\n                let vStyle = computeSegVStyle(rect && rect.span);\r\n                let hStyle = (!isMirror && rect) ? this.computeSegHStyle(rect) : { left: 0, right: 0 };\r\n                let isInset = Boolean(rect) && rect.stackForward > 0;\r\n                let isShort = Boolean(rect) && (rect.span.end - rect.span.start) < eventShortHeight; // look at other places for this problem\r\n                return (createElement(\"div\", { className: 'fc-timegrid-event-harness' +\r\n                        (isInset ? ' fc-timegrid-event-harness-inset' : ''), key: instanceId, style: Object.assign(Object.assign({ visibility: isVisible ? '' : 'hidden' }, vStyle), hStyle) },\r\n                    createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: isDragging, isResizing: isResizing, isDateSelecting: isDateSelecting, isSelected: instanceId === eventSelection, isShort: isShort }, getSegMeta(seg, todayRange, nowDate)))));\r\n            })));\r\n    }\r\n    // will already have eventMinHeight applied because segInputs already had it\r\n    renderHiddenGroups(hiddenGroups, segs) {\r\n        let { extraDateSpan, dateProfile, todayRange, nowDate, eventSelection, eventDrag, eventResize } = this.props;\r\n        return (createElement(Fragment, null, hiddenGroups.map((hiddenGroup) => {\r\n            let positionCss = computeSegVStyle(hiddenGroup.span);\r\n            let hiddenSegs = compileSegsFromEntries(hiddenGroup.entries, segs);\r\n            return (createElement(TimeColMoreLink, { key: buildIsoString(computeEarliestSegStart(hiddenSegs)), hiddenSegs: hiddenSegs, top: positionCss.top, bottom: positionCss.bottom, extraDateSpan: extraDateSpan, dateProfile: dateProfile, todayRange: todayRange, nowDate: nowDate, eventSelection: eventSelection, eventDrag: eventDrag, eventResize: eventResize }));\r\n        })));\r\n    }\r\n    renderFillSegs(segs, fillType) {\r\n        let { props, context } = this;\r\n        let segVCoords = computeSegVCoords(segs, props.date, props.slatCoords, context.options.eventMinHeight); // don't assume all populated\r\n        let children = segVCoords.map((vcoords, i) => {\r\n            let seg = segs[i];\r\n            return (createElement(\"div\", { key: buildEventRangeKey(seg.eventRange), className: \"fc-timegrid-bg-harness\", style: computeSegVStyle(vcoords) }, fillType === 'bg-event' ?\r\n                createElement(BgEvent, Object.assign({ seg: seg }, getSegMeta(seg, props.todayRange, props.nowDate))) :\r\n                renderFill(fillType)));\r\n        });\r\n        return createElement(Fragment, null, children);\r\n    }\r\n    renderNowIndicator(segs) {\r\n        let { slatCoords, date } = this.props;\r\n        if (!slatCoords) {\r\n            return null;\r\n        }\r\n        return segs.map((seg, i) => (createElement(NowIndicatorContainer\r\n        // key doesn't matter. will only ever be one\r\n        , { \r\n            // key doesn't matter. will only ever be one\r\n            key: i, elClasses: ['fc-timegrid-now-indicator-line'], elStyle: {\r\n                top: slatCoords.computeDateTop(seg.start, date),\r\n            }, isAxis: false, date: date })));\r\n    }\r\n    computeSegHStyle(segHCoords) {\r\n        let { isRtl, options } = this.context;\r\n        let shouldOverlap = options.slotEventOverlap;\r\n        let nearCoord = segHCoords.levelCoord; // the left side if LTR. the right side if RTL. floating-point\r\n        let farCoord = segHCoords.levelCoord + segHCoords.thickness; // the right side if LTR. the left side if RTL. floating-point\r\n        let left; // amount of space from left edge, a fraction of the total width\r\n        let right; // amount of space from right edge, a fraction of the total width\r\n        if (shouldOverlap) {\r\n            // double the width, but don't go beyond the maximum forward coordinate (1.0)\r\n            farCoord = Math.min(1, nearCoord + (farCoord - nearCoord) * 2);\r\n        }\r\n        if (isRtl) {\r\n            left = 1 - farCoord;\r\n            right = nearCoord;\r\n        }\r\n        else {\r\n            left = nearCoord;\r\n            right = 1 - farCoord;\r\n        }\r\n        let props = {\r\n            zIndex: segHCoords.stackDepth + 1,\r\n            left: left * 100 + '%',\r\n            right: right * 100 + '%',\r\n        };\r\n        if (shouldOverlap && !segHCoords.stackForward) {\r\n            // add padding to the edge so that forward stacked events don't cover the resizer's icon\r\n            props[isRtl ? 'marginLeft' : 'marginRight'] = 10 * 2; // 10 is a guesstimate of the icon's width\r\n        }\r\n        return props;\r\n    }\r\n}\r\nfunction renderPlainFgSegs(sortedFgSegs, { todayRange, nowDate, eventSelection, eventDrag, eventResize }) {\r\n    let hiddenInstances = (eventDrag ? eventDrag.affectedInstances : null) ||\r\n        (eventResize ? eventResize.affectedInstances : null) ||\r\n        {};\r\n    return (createElement(Fragment, null, sortedFgSegs.map((seg) => {\r\n        let instanceId = seg.eventRange.instance.instanceId;\r\n        return (createElement(\"div\", { key: instanceId, style: { visibility: hiddenInstances[instanceId] ? 'hidden' : '' } },\r\n            createElement(TimeColEvent, Object.assign({ seg: seg, isDragging: false, isResizing: false, isDateSelecting: false, isSelected: instanceId === eventSelection, isShort: false }, getSegMeta(seg, todayRange, nowDate)))));\r\n    })));\r\n}\r\nfunction computeSegVStyle(segVCoords) {\r\n    if (!segVCoords) {\r\n        return { top: '', bottom: '' };\r\n    }\r\n    return {\r\n        top: segVCoords.start,\r\n        bottom: -segVCoords.end,\r\n    };\r\n}\r\nfunction compileSegsFromEntries(segEntries, allSegs) {\r\n    return segEntries.map((segEntry) => allSegs[segEntry.index]);\r\n}\r\n\r\nclass TimeColsContent extends BaseComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.splitFgEventSegs = memoize(splitSegsByCol);\r\n        this.splitBgEventSegs = memoize(splitSegsByCol);\r\n        this.splitBusinessHourSegs = memoize(splitSegsByCol);\r\n        this.splitNowIndicatorSegs = memoize(splitSegsByCol);\r\n        this.splitDateSelectionSegs = memoize(splitSegsByCol);\r\n        this.splitEventDrag = memoize(splitInteractionByCol);\r\n        this.splitEventResize = memoize(splitInteractionByCol);\r\n        this.rootElRef = createRef();\r\n        this.cellElRefs = new RefMap();\r\n    }\r\n    render() {\r\n        let { props, context } = this;\r\n        let nowIndicatorTop = context.options.nowIndicator &&\r\n            props.slatCoords &&\r\n            props.slatCoords.safeComputeTop(props.nowDate); // might return void\r\n        let colCnt = props.cells.length;\r\n        let fgEventSegsByRow = this.splitFgEventSegs(props.fgEventSegs, colCnt);\r\n        let bgEventSegsByRow = this.splitBgEventSegs(props.bgEventSegs, colCnt);\r\n        let businessHourSegsByRow = this.splitBusinessHourSegs(props.businessHourSegs, colCnt);\r\n        let nowIndicatorSegsByRow = this.splitNowIndicatorSegs(props.nowIndicatorSegs, colCnt);\r\n        let dateSelectionSegsByRow = this.splitDateSelectionSegs(props.dateSelectionSegs, colCnt);\r\n        let eventDragByRow = this.splitEventDrag(props.eventDrag, colCnt);\r\n        let eventResizeByRow = this.splitEventResize(props.eventResize, colCnt);\r\n        return (createElement(\"div\", { className: \"fc-timegrid-cols\", ref: this.rootElRef },\r\n            createElement(\"table\", { role: \"presentation\", style: {\r\n                    minWidth: props.tableMinWidth,\r\n                    width: props.clientWidth,\r\n                } },\r\n                props.tableColGroupNode,\r\n                createElement(\"tbody\", { role: \"presentation\" },\r\n                    createElement(\"tr\", { role: \"row\" },\r\n                        props.axis && (createElement(\"td\", { \"aria-hidden\": true, className: \"fc-timegrid-col fc-timegrid-axis\" },\r\n                            createElement(\"div\", { className: \"fc-timegrid-col-frame\" },\r\n                                createElement(\"div\", { className: \"fc-timegrid-now-indicator-container\" }, typeof nowIndicatorTop === 'number' && (createElement(NowIndicatorContainer, { elClasses: ['fc-timegrid-now-indicator-arrow'], elStyle: { top: nowIndicatorTop }, isAxis: true, date: props.nowDate })))))),\r\n                        props.cells.map((cell, i) => (createElement(TimeCol, { key: cell.key, elRef: this.cellElRefs.createRef(cell.key), dateProfile: props.dateProfile, date: cell.date, nowDate: props.nowDate, todayRange: props.todayRange, extraRenderProps: cell.extraRenderProps, extraDataAttrs: cell.extraDataAttrs, extraClassNames: cell.extraClassNames, extraDateSpan: cell.extraDateSpan, fgEventSegs: fgEventSegsByRow[i], bgEventSegs: bgEventSegsByRow[i], businessHourSegs: businessHourSegsByRow[i], nowIndicatorSegs: nowIndicatorSegsByRow[i], dateSelectionSegs: dateSelectionSegsByRow[i], eventDrag: eventDragByRow[i], eventResize: eventResizeByRow[i], slatCoords: props.slatCoords, eventSelection: props.eventSelection, forPrint: props.forPrint }))))))));\r\n    }\r\n    componentDidMount() {\r\n        this.updateCoords();\r\n    }\r\n    componentDidUpdate() {\r\n        this.updateCoords();\r\n    }\r\n    updateCoords() {\r\n        let { props } = this;\r\n        if (props.onColCoords &&\r\n            props.clientWidth !== null // means sizing has stabilized\r\n        ) {\r\n            props.onColCoords(new PositionCache(this.rootElRef.current, collectCellEls(this.cellElRefs.currentMap, props.cells), true, // horizontal\r\n            false));\r\n        }\r\n    }\r\n}\r\nfunction collectCellEls(elMap, cells) {\r\n    return cells.map((cell) => elMap[cell.key]);\r\n}\r\n\r\n/* A component that renders one or more columns of vertical time slots\r\n----------------------------------------------------------------------------------------------------------------------*/\r\nclass TimeCols extends DateComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.processSlotOptions = memoize(processSlotOptions);\r\n        this.state = {\r\n            slatCoords: null,\r\n        };\r\n        this.handleRootEl = (el) => {\r\n            if (el) {\r\n                this.context.registerInteractiveComponent(this, {\r\n                    el,\r\n                    isHitComboAllowed: this.props.isHitComboAllowed,\r\n                });\r\n            }\r\n            else {\r\n                this.context.unregisterInteractiveComponent(this);\r\n            }\r\n        };\r\n        this.handleScrollRequest = (request) => {\r\n            let { onScrollTopRequest } = this.props;\r\n            let { slatCoords } = this.state;\r\n            if (onScrollTopRequest && slatCoords) {\r\n                if (request.time) {\r\n                    let top = slatCoords.computeTimeTop(request.time);\r\n                    top = Math.ceil(top); // zoom can give weird floating-point values. rather scroll a little bit further\r\n                    if (top) {\r\n                        top += 1; // to overcome top border that slots beyond the first have. looks better\r\n                    }\r\n                    onScrollTopRequest(top);\r\n                }\r\n                return true;\r\n            }\r\n            return false;\r\n        };\r\n        this.handleColCoords = (colCoords) => {\r\n            this.colCoords = colCoords;\r\n        };\r\n        this.handleSlatCoords = (slatCoords) => {\r\n            this.setState({ slatCoords });\r\n            if (this.props.onSlatCoords) {\r\n                this.props.onSlatCoords(slatCoords);\r\n            }\r\n        };\r\n    }\r\n    render() {\r\n        let { props, state } = this;\r\n        return (createElement(\"div\", { className: \"fc-timegrid-body\", ref: this.handleRootEl, style: {\r\n                // these props are important to give this wrapper correct dimensions for interactions\r\n                // TODO: if we set it here, can we avoid giving to inner tables?\r\n                width: props.clientWidth,\r\n                minWidth: props.tableMinWidth,\r\n            } },\r\n            createElement(TimeColsSlats, { axis: props.axis, dateProfile: props.dateProfile, slatMetas: props.slatMetas, clientWidth: props.clientWidth, minHeight: props.expandRows ? props.clientHeight : '', tableMinWidth: props.tableMinWidth, tableColGroupNode: props.axis ? props.tableColGroupNode : null /* axis depends on the colgroup's shrinking */, onCoords: this.handleSlatCoords }),\r\n            createElement(TimeColsContent, { cells: props.cells, axis: props.axis, dateProfile: props.dateProfile, businessHourSegs: props.businessHourSegs, bgEventSegs: props.bgEventSegs, fgEventSegs: props.fgEventSegs, dateSelectionSegs: props.dateSelectionSegs, eventSelection: props.eventSelection, eventDrag: props.eventDrag, eventResize: props.eventResize, todayRange: props.todayRange, nowDate: props.nowDate, nowIndicatorSegs: props.nowIndicatorSegs, clientWidth: props.clientWidth, tableMinWidth: props.tableMinWidth, tableColGroupNode: props.tableColGroupNode, slatCoords: state.slatCoords, onColCoords: this.handleColCoords, forPrint: props.forPrint })));\r\n    }\r\n    componentDidMount() {\r\n        this.scrollResponder = this.context.createScrollResponder(this.handleScrollRequest);\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        this.scrollResponder.update(prevProps.dateProfile !== this.props.dateProfile);\r\n    }\r\n    componentWillUnmount() {\r\n        this.scrollResponder.detach();\r\n    }\r\n    queryHit(positionLeft, positionTop) {\r\n        let { dateEnv, options } = this.context;\r\n        let { colCoords } = this;\r\n        let { dateProfile } = this.props;\r\n        let { slatCoords } = this.state;\r\n        let { snapDuration, snapsPerSlot } = this.processSlotOptions(this.props.slotDuration, options.snapDuration);\r\n        let colIndex = colCoords.leftToIndex(positionLeft);\r\n        let slatIndex = slatCoords.positions.topToIndex(positionTop);\r\n        if (colIndex != null && slatIndex != null) {\r\n            let cell = this.props.cells[colIndex];\r\n            let slatTop = slatCoords.positions.tops[slatIndex];\r\n            let slatHeight = slatCoords.positions.getHeight(slatIndex);\r\n            let partial = (positionTop - slatTop) / slatHeight; // floating point number between 0 and 1\r\n            let localSnapIndex = Math.floor(partial * snapsPerSlot); // the snap # relative to start of slat\r\n            let snapIndex = slatIndex * snapsPerSlot + localSnapIndex;\r\n            let dayDate = this.props.cells[colIndex].date;\r\n            let time = addDurations(dateProfile.slotMinTime, multiplyDuration(snapDuration, snapIndex));\r\n            let start = dateEnv.add(dayDate, time);\r\n            let end = dateEnv.add(start, snapDuration);\r\n            return {\r\n                dateProfile,\r\n                dateSpan: Object.assign({ range: { start, end }, allDay: false }, cell.extraDateSpan),\r\n                dayEl: colCoords.els[colIndex],\r\n                rect: {\r\n                    left: colCoords.lefts[colIndex],\r\n                    right: colCoords.rights[colIndex],\r\n                    top: slatTop,\r\n                    bottom: slatTop + slatHeight,\r\n                },\r\n                layer: 0,\r\n            };\r\n        }\r\n        return null;\r\n    }\r\n}\r\nfunction processSlotOptions(slotDuration, snapDurationOverride) {\r\n    let snapDuration = snapDurationOverride || slotDuration;\r\n    let snapsPerSlot = wholeDivideDurations(slotDuration, snapDuration);\r\n    if (snapsPerSlot === null) {\r\n        snapDuration = slotDuration;\r\n        snapsPerSlot = 1;\r\n        // TODO: say warning?\r\n    }\r\n    return { snapDuration, snapsPerSlot };\r\n}\r\n\r\nclass DayTimeColsSlicer extends Slicer {\r\n    sliceRange(range, dayRanges) {\r\n        let segs = [];\r\n        for (let col = 0; col < dayRanges.length; col += 1) {\r\n            let segRange = intersectRanges(range, dayRanges[col]);\r\n            if (segRange) {\r\n                segs.push({\r\n                    start: segRange.start,\r\n                    end: segRange.end,\r\n                    isStart: segRange.start.valueOf() === range.start.valueOf(),\r\n                    isEnd: segRange.end.valueOf() === range.end.valueOf(),\r\n                    col,\r\n                });\r\n            }\r\n        }\r\n        return segs;\r\n    }\r\n}\r\n\r\nclass DayTimeCols extends DateComponent {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.buildDayRanges = memoize(buildDayRanges);\r\n        this.slicer = new DayTimeColsSlicer();\r\n        this.timeColsRef = createRef();\r\n    }\r\n    render() {\r\n        let { props, context } = this;\r\n        let { dateProfile, dayTableModel } = props;\r\n        let { nowIndicator, nextDayThreshold } = context.options;\r\n        let dayRanges = this.buildDayRanges(dayTableModel, dateProfile, context.dateEnv);\r\n        // give it the first row of cells\r\n        // TODO: would move this further down hierarchy, but sliceNowDate needs it\r\n        return (createElement(NowTimer, { unit: nowIndicator ? 'minute' : 'day' }, (nowDate, todayRange) => (createElement(TimeCols, Object.assign({ ref: this.timeColsRef }, this.slicer.sliceProps(props, dateProfile, null, context, dayRanges), { forPrint: props.forPrint, axis: props.axis, dateProfile: dateProfile, slatMetas: props.slatMetas, slotDuration: props.slotDuration, cells: dayTableModel.cells[0], tableColGroupNode: props.tableColGroupNode, tableMinWidth: props.tableMinWidth, clientWidth: props.clientWidth, clientHeight: props.clientHeight, expandRows: props.expandRows, nowDate: nowDate, nowIndicatorSegs: nowIndicator && this.slicer.sliceNowDate(nowDate, dateProfile, nextDayThreshold, context, dayRanges), todayRange: todayRange, onScrollTopRequest: props.onScrollTopRequest, onSlatCoords: props.onSlatCoords })))));\r\n    }\r\n}\r\nfunction buildDayRanges(dayTableModel, dateProfile, dateEnv) {\r\n    let ranges = [];\r\n    for (let date of dayTableModel.headerDates) {\r\n        ranges.push({\r\n            start: dateEnv.add(date, dateProfile.slotMinTime),\r\n            end: dateEnv.add(date, dateProfile.slotMaxTime),\r\n        });\r\n    }\r\n    return ranges;\r\n}\r\n\r\n// potential nice values for the slot-duration and interval-duration\r\n// from largest to smallest\r\nconst STOCK_SUB_DURATIONS = [\r\n    { hours: 1 },\r\n    { minutes: 30 },\r\n    { minutes: 15 },\r\n    { seconds: 30 },\r\n    { seconds: 15 },\r\n];\r\nfunction buildSlatMetas(slotMinTime, slotMaxTime, explicitLabelInterval, slotDuration, dateEnv) {\r\n    let dayStart = new Date(0);\r\n    let slatTime = slotMinTime;\r\n    let slatIterator = createDuration(0);\r\n    let labelInterval = explicitLabelInterval || computeLabelInterval(slotDuration);\r\n    let metas = [];\r\n    while (asRoughMs(slatTime) < asRoughMs(slotMaxTime)) {\r\n        let date = dateEnv.add(dayStart, slatTime);\r\n        let isLabeled = wholeDivideDurations(slatIterator, labelInterval) !== null;\r\n        metas.push({\r\n            date,\r\n            time: slatTime,\r\n            key: date.toISOString(),\r\n            isoTimeStr: formatIsoTimeString(date),\r\n            isLabeled,\r\n        });\r\n        slatTime = addDurations(slatTime, slotDuration);\r\n        slatIterator = addDurations(slatIterator, slotDuration);\r\n    }\r\n    return metas;\r\n}\r\n// Computes an automatic value for slotLabelInterval\r\nfunction computeLabelInterval(slotDuration) {\r\n    let i;\r\n    let labelInterval;\r\n    let slotsPerLabel;\r\n    // find the smallest stock label interval that results in more than one slots-per-label\r\n    for (i = STOCK_SUB_DURATIONS.length - 1; i >= 0; i -= 1) {\r\n        labelInterval = createDuration(STOCK_SUB_DURATIONS[i]);\r\n        slotsPerLabel = wholeDivideDurations(labelInterval, slotDuration);\r\n        if (slotsPerLabel !== null && slotsPerLabel > 1) {\r\n            return labelInterval;\r\n        }\r\n    }\r\n    return slotDuration; // fall back\r\n}\r\n\r\nclass DayTimeColsView extends TimeColsView {\r\n    constructor() {\r\n        super(...arguments);\r\n        this.buildTimeColsModel = memoize(buildTimeColsModel);\r\n        this.buildSlatMetas = memoize(buildSlatMetas);\r\n    }\r\n    render() {\r\n        let { options, dateEnv, dateProfileGenerator } = this.context;\r\n        let { props } = this;\r\n        let { dateProfile } = props;\r\n        let dayTableModel = this.buildTimeColsModel(dateProfile, dateProfileGenerator);\r\n        let splitProps = this.allDaySplitter.splitProps(props);\r\n        let slatMetas = this.buildSlatMetas(dateProfile.slotMinTime, dateProfile.slotMaxTime, options.slotLabelInterval, options.slotDuration, dateEnv);\r\n        let { dayMinWidth } = options;\r\n        let hasAttachedAxis = !dayMinWidth;\r\n        let hasDetachedAxis = dayMinWidth;\r\n        let headerContent = options.dayHeaders && (createElement(DayHeader, { dates: dayTableModel.headerDates, dateProfile: dateProfile, datesRepDistinctDays: true, renderIntro: hasAttachedAxis ? this.renderHeadAxis : null }));\r\n        let allDayContent = (options.allDaySlot !== false) && ((contentArg) => (createElement(DayTable, Object.assign({}, splitProps.allDay, { dateProfile: dateProfile, dayTableModel: dayTableModel, nextDayThreshold: options.nextDayThreshold, tableMinWidth: contentArg.tableMinWidth, colGroupNode: contentArg.tableColGroupNode, renderRowIntro: hasAttachedAxis ? this.renderTableRowAxis : null, showWeekNumbers: false, expandRows: false, headerAlignElRef: this.headerElRef, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, forPrint: props.forPrint }, this.getAllDayMaxEventProps()))));\r\n        let timeGridContent = (contentArg) => (createElement(DayTimeCols, Object.assign({}, splitProps.timed, { dayTableModel: dayTableModel, dateProfile: dateProfile, axis: hasAttachedAxis, slotDuration: options.slotDuration, slatMetas: slatMetas, forPrint: props.forPrint, tableColGroupNode: contentArg.tableColGroupNode, tableMinWidth: contentArg.tableMinWidth, clientWidth: contentArg.clientWidth, clientHeight: contentArg.clientHeight, onSlatCoords: this.handleSlatCoords, expandRows: contentArg.expandRows, onScrollTopRequest: this.handleScrollTopRequest })));\r\n        return hasDetachedAxis\r\n            ? this.renderHScrollLayout(headerContent, allDayContent, timeGridContent, dayTableModel.colCnt, dayMinWidth, slatMetas, this.state.slatCoords)\r\n            : this.renderSimpleLayout(headerContent, allDayContent, timeGridContent);\r\n    }\r\n}\r\nfunction buildTimeColsModel(dateProfile, dateProfileGenerator) {\r\n    let daySeries = new DaySeriesModel(dateProfile.renderRange, dateProfileGenerator);\r\n    return new DayTableModel(daySeries, false);\r\n}\r\n\r\nexport { DayTimeCols, DayTimeColsSlicer, DayTimeColsView, TimeCols, TimeColsSlatsCoords, TimeColsView, buildDayRanges, buildSlatMetas, buildTimeColsModel };\r\n", "import { createPlugin } from '@fullcalendar/core';\r\nimport { DayTimeColsView } from './internal.js';\r\nimport { injectStyles } from '@fullcalendar/core/internal';\r\nimport '@fullcalendar/core/preact';\r\nimport '@fullcalendar/daygrid/internal';\r\n\r\nconst OPTION_REFINERS = {\r\n    allDaySlot: Boolean,\r\n};\r\n\r\nvar css_248z = \".fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:\\\"\\\\00a0\\\"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:\\\"\\\\00a0-\\\\00a0\\\"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}\";\r\ninjectStyles(css_248z);\r\n\r\nvar index = createPlugin({\r\n    name: '@fullcalendar/timegrid',\r\n    initialView: 'timeGridWeek',\r\n    optionRefiners: OPTION_REFINERS,\r\n    views: {\r\n        timeGrid: {\r\n            component: DayTimeColsView,\r\n            usesMinMaxTime: true,\r\n            allDaySlot: true,\r\n            slotDuration: '00:30:00',\r\n            slotEventOverlap: true, // a bad name. confused with overlap/constraint system\r\n        },\r\n        timeGridDay: {\r\n            type: 'timeGrid',\r\n            duration: { days: 1 },\r\n        },\r\n        timeGridWeek: {\r\n            type: 'timeGrid',\r\n            duration: { weeks: 1 },\r\n        },\r\n    },\r\n});\r\n\r\nexport { index as default };\r\n"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAIA,IAAM,iBAAN,cAA6B,SAAS;AAAA,EAClC,aAAa;AACT,WAAO;AAAA,MACH,QAAQ,CAAC;AAAA,MACT,OAAO,CAAC;AAAA,IACZ;AAAA,EACJ;AAAA,EACA,mBAAmB,UAAU;AACzB,QAAI,SAAS,QAAQ;AACjB,aAAO,CAAC,QAAQ;AAAA,IACpB;AACA,WAAO,CAAC,OAAO;AAAA,EACnB;AAAA,EACA,mBAAmB,UAAU;AACzB,QAAI,CAAC,SAAS,QAAQ;AAClB,aAAO,CAAC,OAAO;AAAA,IACnB;AACA,QAAI,eAAe,QAAQ,GAAG;AAC1B,aAAO,CAAC,SAAS,QAAQ;AAAA,IAC7B;AACA,WAAO,CAAC,QAAQ;AAAA,EACpB;AACJ;AAEA,IAAM,4BAA4B,gBAAgB;AAAA,EAC9C,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,gBAAgB;AAAA,EAChB,UAAU;AACd,CAAC;AACD,SAAS,iBAAiB,OAAO;AAC7B,MAAI,aAAa;AAAA,IACb;AAAA,IACA;AAAA,IACA,MAAM,YAAY,yBAAyB;AAAA,EAC/C;AACA,SAAQ,EAAc,gBAAgB,UAAU,MAAM,CAAC,YAAY;AAC/D,QAAI,CAAC,MAAM,WAAW;AAClB,aAAQ,EAAc,MAAM,EAAE,WAAW,WAAW,KAAK,GAAG,GAAG,aAAa,MAAM,WAAW,CAAC;AAAA,IAClG;AACA,QAAI,EAAE,SAAS,SAAS,QAAQ,IAAI;AACpC,QAAI;AAAA;AAAA,MACH,QAAQ,mBAAmB,OAAO,4BAC/B,MAAM,QAAQ,QAAQ,eAAe,IAAI,gBAAgB,QAAQ,gBAAgB,CAAC,CAAC,IAC/E,gBAAgB,QAAQ,eAAe;AAAA;AAC/C,QAAI,cAAc;AAAA,MACd,OAAO;AAAA,MACP,MAAM,MAAM;AAAA,MACZ,MAAM,QAAQ,OAAO,MAAM,IAAI;AAAA,MAC/B,MAAM;AAAA,MACN,MAAM,QAAQ,OAAO,MAAM,MAAM,WAAW;AAAA,IAChD;AACA,WAAQ,EAAc,kBAAkB,EAAE,OAAO,MAAM,WAAW,YAAY,SAAS;AAAA,MAC/E,aAAa,MAAM;AAAA,IACvB,GAAG,aAA0B,eAAe,oBAAoB,iBAAiB,QAAQ,kBAAkB,kBAAkB,oBAAoB,oBAAoB,QAAQ,qBAAqB,UAAU,QAAQ,mBAAmB,aAAa,QAAQ,qBAAqB,GAAG,CAAC,iBAAkB;AAAA,MAAc;AAAA,MAAO,EAAE,WAAW,0DAA0D;AAAA,MACnY,EAAc,cAAc,EAAE,OAAO,OAAO,WAAW;AAAA,QAC/C;AAAA,QACA;AAAA,MACJ,EAAE,CAAC;AAAA,IAAC,CAAE;AAAA,EAClB,CAAC;AACL;AACA,SAAS,mBAAmB,OAAO;AAC/B,SAAO,MAAM;AACjB;AAEA,IAAM,eAAN,cAA2B,cAAc;AAAA,EACrC,SAAS;AACL,WAAO,KAAK,MAAM,UAAU,IAAI,CAAC,aAAc;AAAA,MAAc;AAAA,MAAM,EAAE,KAAK,SAAS,IAAI;AAAA,MACnF,EAAc,kBAAkB,OAAO,OAAO,CAAC,GAAG,QAAQ,CAAC;AAAA,IAAC,CAAE;AAAA,EACtE;AACJ;AAEA,IAAM,0BAA0B,gBAAgB,EAAE,MAAM,QAAQ,CAAC;AACjE,IAAM,8BAA8B;AACpC,IAAM,eAAN,cAA2B,cAAc;AAAA,EACrC,cAAc;AACV,UAAM,GAAG,SAAS;AAClB,SAAK,iBAAiB,IAAI,eAAe;AACzC,SAAK,cAAc,EAAU;AAC7B,SAAK,YAAY,EAAU;AAC3B,SAAK,gBAAgB,EAAU;AAC/B,SAAK,QAAQ;AAAA,MACT,YAAY;AAAA,IAChB;AACA,SAAK,yBAAyB,CAAC,cAAc;AACzC,UAAI,aAAa,KAAK,cAAc;AACpC,UAAI,YAAY;AACZ,mBAAW,YAAY;AAAA,MAC3B;AAAA,IACJ;AAGA,SAAK,iBAAiB,CAAC,QAAQ,cAAc,OAAO;AAChD,UAAI,EAAE,QAAQ,IAAI,KAAK;AACvB,UAAI,EAAE,YAAY,IAAI,KAAK;AAC3B,UAAI,QAAQ,YAAY;AACxB,UAAI,SAAS,SAAS,MAAM,OAAO,MAAM,GAAG;AAE5C,UAAI,eAAgB,WAAW,IACzB,kBAAkB,KAAK,SAAS,MAAM,OAAO,MAAM,IACnD,CAAC;AACP,UAAI,QAAQ,eAAe,WAAW,OAAO;AACzC,eAAQ,EAAc,qBAAqB,EAAE,OAAO,MAAM,WAAW;AAAA,UAC7D;AAAA,UACA;AAAA,QACJ,GAAG,SAAS;AAAA,UACR,eAAe;AAAA,QACnB,GAAG,MAAM,MAAM,OAAO,eAAe,wBAAwB,GAAG,CAAC,iBAAkB;AAAA,UAAc;AAAA,UAAO,EAAE,WAAW;AAAA,YACjH;AAAA,YACA;AAAA,YACA;AAAA,UACJ,EAAE,KAAK,GAAG,GAAG,OAAO,EAAE,QAAQ,YAAY,EAAE;AAAA,UAC5C,EAAc,cAAc,EAAE,OAAO,KAAK,WAAW;AAAA,YAC7C;AAAA,YACA;AAAA,YACA;AAAA,UACJ,GAAG,SAAS,aAAa,CAAC;AAAA,QAAC,CAAE;AAAA,MACzC;AACA,aAAQ;AAAA,QAAc;AAAA,QAAM,EAAE,eAAe,MAAM,WAAW,mBAAmB;AAAA,QAC7E,EAAc,OAAO,EAAE,WAAW,0BAA0B,OAAO,EAAE,QAAQ,YAAY,EAAE,CAAC;AAAA,MAAC;AAAA,IACrG;AAKA,SAAK,qBAAqB,CAAC,cAAc;AACrC,UAAI,EAAE,SAAS,QAAQ,IAAI,KAAK;AAChC,UAAI,cAAc;AAAA,QACd,MAAM,QAAQ;AAAA,QACd,MAAM;AAAA,MACV;AACA;AAAA;AAAA,QAEA,EAAc,kBAAkB,EAAE,OAAO,MAAM,WAAW;AAAA,UAClD;AAAA,UACA;AAAA,QACJ,GAAG,SAAS;AAAA,UACR,eAAe;AAAA,QACnB,GAAG,aAA0B,eAAe,iBAAiB,iBAAiB,QAAQ,eAAe,kBAAkB,mBAAmB,oBAAoB,QAAQ,kBAAkB,UAAU,QAAQ,gBAAgB,aAAa,QAAQ,kBAAkB,GAAG,CAAC,iBAAkB;AAAA,UAAc;AAAA,UAAO,EAAE,WAAW;AAAA,YACrT;AAAA,YACA;AAAA,YACA,aAAa,OAAO,mCAAmC;AAAA,UAC3D,EAAE,KAAK,GAAG,GAAG,OAAO,EAAE,QAAQ,UAAU,EAAE;AAAA,UAC1C,EAAc,cAAc,EAAE,OAAO,QAAQ,WAAW;AAAA,YAChD;AAAA,YACA;AAAA,YACA;AAAA,UACJ,EAAE,CAAC;AAAA,QAAC,CAAE;AAAA;AAAA,IAClB;AACA,SAAK,mBAAmB,CAAC,eAAe;AACpC,WAAK,SAAS,EAAE,WAAW,CAAC;AAAA,IAChC;AAAA,EACJ;AAAA;AAAA;AAAA,EAGA,mBAAmB,kBAAkB,eAAe,aAAa;AAC7D,QAAI,EAAE,SAAS,MAAM,IAAI;AACzB,QAAI,WAAW,CAAC;AAChB,QAAI,oBAAoB,qBAAqB,QAAQ,OAAO;AAC5D,QAAI,kBAAkB;AAClB,eAAS,KAAK;AAAA,QACV,MAAM;AAAA,QACN,KAAK;AAAA,QACL,UAAU;AAAA,QACV,OAAO;AAAA,UACH,OAAO,KAAK;AAAA,UACZ,gBAAgB;AAAA,UAChB,YAAY;AAAA,QAChB;AAAA,MACJ,CAAC;AAAA,IACL;AACA,QAAI,eAAe;AACf,eAAS,KAAK;AAAA,QACV,MAAM;AAAA,QACN,KAAK;AAAA,QACL,OAAO,EAAE,SAAS,cAAc;AAAA,MACpC,CAAC;AACD,eAAS,KAAK;AAAA,QACV,MAAM;AAAA,QACN,KAAK;AAAA,QACL;AAAA;AAAA,UACA;AAAA,YAAc;AAAA,YAAM,EAAE,MAAM,gBAAgB,WAAW,wBAAwB;AAAA,YAC3E,EAAc,MAAM,EAAE,WAAW,yBAAyB,QAAQ,MAAM,SAAS,iBAAiB,EAAE,CAAC;AAAA,UAAC;AAAA;AAAA,MAC9G,CAAC;AAAA,IACL;AACA,aAAS,KAAK;AAAA,MACV,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,YAAY,QAAQ,QAAQ,QAAQ,UAAU;AAAA,MAC9C,OAAO;AAAA,QACH,eAAe,KAAK;AAAA,QACpB,SAAS;AAAA,MACb;AAAA,IACJ,CAAC;AACD,WAAQ;AAAA,MAAc;AAAA,MAAe,EAAE,OAAO,KAAK,WAAW,WAAW,CAAC,aAAa,GAAG,UAAU,QAAQ,SAAS;AAAA,MACjH,EAAc,kBAAkB,EAAE,QAAQ,CAAC,MAAM,gBAAgB,CAAC,MAAM,UAAU,kBAAkB,MAAM,UAAU,MAAM,CAAC,EAAE,OAAO,SAAS,CAAC,GAAG,SAAmB,CAAC;AAAA,IAAC;AAAA,EAC9K;AAAA,EACA,oBAAoB,kBAAkB,eAAe,aAAa,QAAQ,aAAa,WAAW,YAAY;AAC1G,QAAI,aAAa,KAAK,QAAQ,YAAY;AAC1C,QAAI,CAAC,YAAY;AACb,YAAM,IAAI,MAAM,8BAA8B;AAAA,IAClD;AACA,QAAI,EAAE,SAAS,MAAM,IAAI;AACzB,QAAI,oBAAoB,CAAC,MAAM,YAAY,qBAAqB,QAAQ,OAAO;AAC/E,QAAI,wBAAwB,CAAC,MAAM,YAAY,yBAAyB,QAAQ,OAAO;AACvF,QAAI,WAAW,CAAC;AAChB,QAAI,kBAAkB;AAClB,eAAS,KAAK;AAAA,QACV,MAAM;AAAA,QACN,KAAK;AAAA,QACL,UAAU;AAAA,QACV,gBAAgB;AAAA,QAChB,QAAQ;AAAA,UACJ;AAAA,YACI,KAAK;AAAA,YACL,YAAY,CAAC,QAAS,EAAc,MAAM,EAAE,MAAM,eAAe,GAAG,KAAK,eAAe,OAAO,IAAI,eAAe,CAAC,CAAC,CAAC;AAAA,UACzH;AAAA,UACA;AAAA,YACI,KAAK;AAAA,YACL,OAAO,KAAK;AAAA,YACZ,gBAAgB;AAAA,YAChB,YAAY;AAAA,UAChB;AAAA,QACJ;AAAA,MACJ,CAAC;AAAA,IACL;AACA,QAAI,eAAe;AACf,eAAS,KAAK;AAAA,QACV,MAAM;AAAA,QACN,KAAK;AAAA,QACL,gBAAgB;AAAA,QAChB,QAAQ;AAAA,UACJ;AAAA,YACI,KAAK;AAAA,YACL,YAAY,CAAC,eAAgB,EAAc,MAAM,EAAE,MAAM,eAAe,GAAG,KAAK,mBAAmB,WAAW,eAAe,CAAC,CAAC,CAAC;AAAA,UACpI;AAAA,UACA;AAAA,YACI,KAAK;AAAA,YACL,SAAS;AAAA,UACb;AAAA,QACJ;AAAA,MACJ,CAAC;AACD,eAAS,KAAK;AAAA,QACV,KAAK;AAAA,QACL,MAAM;AAAA,QACN;AAAA;AAAA,UACA;AAAA,YAAc;AAAA,YAAM,EAAE,MAAM,gBAAgB,WAAW,wBAAwB;AAAA,YAC3E,EAAc,MAAM,EAAE,SAAS,GAAG,WAAW,yBAAyB,QAAQ,MAAM,SAAS,iBAAiB,EAAE,CAAC;AAAA,UAAC;AAAA;AAAA,MAC1H,CAAC;AAAA,IACL;AACA,QAAI,iBAAiB,QAAQ,QAAQ;AACrC,aAAS,KAAK;AAAA,MACV,MAAM;AAAA,MACN,KAAK;AAAA,MACL,QAAQ;AAAA,MACR,YAAY,QAAQ,QAAQ,QAAQ,UAAU;AAAA,MAC9C,QAAQ;AAAA,QACJ;AAAA,UACI,KAAK;AAAA,UACL,SAAS,CAAC;AAAA;AAAA,YAEV;AAAA,cAAc;AAAA,cAAO,EAAE,WAAW,yBAAyB;AAAA,cACvD;AAAA,gBAAc;AAAA,gBAAS,EAAE,eAAe,MAAM,OAAO,EAAE,QAAQ,IAAI,aAAa,IAAI,eAAe,GAAG,EAAE;AAAA,gBACpG,IAAI;AAAA,gBACJ;AAAA,kBAAc;AAAA,kBAAS;AAAA,kBACnB,EAAc,cAAc,EAAE,UAAqB,CAAC;AAAA,gBAAC;AAAA,cAAC;AAAA,cAC9D;AAAA,gBAAc;AAAA,gBAAO,EAAE,WAAW,sCAAsC;AAAA,gBACpE,EAAc,UAAU;AAAA,kBAAE,MAAM,iBAAiB,WAAW;AAAA;AAAA,gBAAkB,GAAG,CAAC,YAAY;AAC1F,sBAAI,kBAAkB,kBAClB,cACA,WAAW,eAAe,OAAO;AACrC,sBAAI,OAAO,oBAAoB,UAAU;AACrC,2BAAQ,EAAc,uBAAuB,EAAE,WAAW,CAAC,iCAAiC,GAAG,SAAS,EAAE,KAAK,gBAAgB,GAAG,QAAQ,MAAM,MAAM,QAAQ,CAAC;AAAA,kBACnK;AACA,yBAAO;AAAA,gBACX,CAAC;AAAA,cAAC;AAAA,YAAC;AAAA;AAAA,QACf;AAAA,QACA;AAAA,UACI,KAAK;AAAA,UACL,eAAe,KAAK;AAAA,UACpB,SAAS;AAAA,QACb;AAAA,MACJ;AAAA,IACJ,CAAC;AACD,QAAI,uBAAuB;AACvB,eAAS,KAAK;AAAA,QACV,KAAK;AAAA,QACL,MAAM;AAAA,QACN,UAAU;AAAA,QACV,QAAQ;AAAA,UACJ;AAAA,YACI,KAAK;AAAA,YACL,SAAS;AAAA,UACb;AAAA,UACA;AAAA,YACI,KAAK;AAAA,YACL,SAAS;AAAA,UACb;AAAA,QACJ;AAAA,MACJ,CAAC;AAAA,IACL;AACA,WAAQ;AAAA,MAAc;AAAA,MAAe,EAAE,OAAO,KAAK,WAAW,WAAW,CAAC,aAAa,GAAG,UAAU,QAAQ,SAAS;AAAA,MACjH,EAAc,YAAY,EAAE,QAAQ,CAAC,MAAM,gBAAgB,CAAC,MAAM,UAAU,kBAAkB,OAAO,WAAW;AAAA,QACxG,EAAE,OAAO,UAAU,MAAM,CAAC,EAAE,OAAO,SAAS,CAAC,EAAE;AAAA,QAC/C,EAAE,MAAM,CAAC,EAAE,MAAM,QAAQ,UAAU,YAAY,CAAC,EAAE;AAAA,MACtD,GAAG,SAAmB,CAAC;AAAA,IAAC;AAAA,EACpC;AAAA;AAAA;AAAA,EAGA,yBAAyB;AACrB,QAAI,EAAE,cAAc,gBAAgB,IAAI,KAAK,QAAQ;AACrD,QAAI,iBAAiB,QAAQ,oBAAoB,MAAM;AACnD,qBAAe;AACf,wBAAkB;AAAA,IACtB;AACA,WAAO,EAAE,cAAc,gBAAgB;AAAA,EAC3C;AACJ;AACA,SAAS,kBAAkB,aAAa;AACpC,SAAO,YAAY;AACvB;AAEA,IAAM,sBAAN,MAA0B;AAAA,EACtB,YAAY,WAAW,aAAa,cAAc;AAC9C,SAAK,YAAY;AACjB,SAAK,cAAc;AACnB,SAAK,eAAe;AAAA,EACxB;AAAA,EACA,eAAe,MAAM;AACjB,QAAI,EAAE,YAAY,IAAI;AACtB,QAAI,oBAAoB,YAAY,cAAc,IAAI,GAAG;AACrD,UAAI,iBAAiB,WAAW,IAAI;AACpC,UAAI,SAAS,KAAK,QAAQ,IAAI,eAAe,QAAQ;AACrD,UAAI,UAAU,UAAU,YAAY,WAAW,KAC3C,SAAS,UAAU,YAAY,WAAW,GAAG;AAC7C,eAAO,KAAK,eAAe,eAAe,MAAM,CAAC;AAAA,MACrD;AAAA,IACJ;AACA,WAAO;AAAA,EACX;AAAA;AAAA;AAAA,EAGA,eAAe,MAAM,gBAAgB;AACjC,QAAI,CAAC,gBAAgB;AACjB,uBAAiB,WAAW,IAAI;AAAA,IACpC;AACA,WAAO,KAAK,eAAe,eAAe,KAAK,QAAQ,IAAI,eAAe,QAAQ,CAAC,CAAC;AAAA,EACxF;AAAA;AAAA;AAAA;AAAA,EAIA,eAAe,UAAU;AACrB,QAAI,EAAE,WAAW,YAAY,IAAI;AACjC,QAAI,MAAM,UAAU,IAAI;AAExB,QAAI,gBAAgB,SAAS,eAAe,UAAU,YAAY,WAAW,KAAK,UAAU,KAAK,YAAY;AAC7G,QAAI;AACJ,QAAI;AAIJ,mBAAe,KAAK,IAAI,GAAG,YAAY;AACvC,mBAAe,KAAK,IAAI,KAAK,YAAY;AAGzC,gBAAY,KAAK,MAAM,YAAY;AACnC,gBAAY,KAAK,IAAI,WAAW,MAAM,CAAC;AAGvC,oBAAgB,eAAe;AAC/B,WAAO,UAAU,KAAK,SAAS,IAC3B,UAAU,UAAU,SAAS,IAAI;AAAA,EACzC;AACJ;AAEA,IAAM,oBAAN,cAAgC,cAAc;AAAA,EAC1C,SAAS;AACL,QAAI,EAAE,OAAO,QAAQ,IAAI;AACzB,QAAI,EAAE,QAAQ,IAAI;AAClB,QAAI,EAAE,WAAW,IAAI;AACrB,WAAQ,EAAc,SAAS,MAAM,MAAM,UAAU,IAAI,CAAC,UAAU,MAAM;AACtE,UAAI,cAAc;AAAA,QACd,MAAM,SAAS;AAAA,QACf,MAAM,QAAQ,QAAQ,OAAO,SAAS,IAAI;AAAA,QAC1C,MAAM,QAAQ;AAAA,MAClB;AACA,aAAQ;AAAA,QAAc;AAAA,QAAM,EAAE,KAAK,SAAS,KAAK,KAAK,WAAW,UAAU,SAAS,GAAG,EAAE;AAAA,QACrF,MAAM,QAAS,EAAc,kBAAkB,OAAO,OAAO,CAAC,GAAG,QAAQ,CAAC;AAAA,QAC1E,EAAc,kBAAkB,EAAE,OAAO,MAAM,WAAW;AAAA,UAClD;AAAA,UACA;AAAA,UACA,CAAC,SAAS,aAAa;AAAA,QAC3B,GAAG,SAAS;AAAA,UACR,aAAa,SAAS;AAAA,QAC1B,GAAG,aAA0B,eAAe,mBAAmB,iBAAiB,QAAQ,iBAAiB,oBAAoB,QAAQ,oBAAoB,UAAU,QAAQ,kBAAkB,aAAa,QAAQ,oBAAoB,CAAC;AAAA,MAAC;AAAA,IACpP,CAAC,CAAC;AAAA,EACN;AACJ;AAKA,IAAM,gBAAN,cAA4B,cAAc;AAAA,EACtC,cAAc;AACV,UAAM,GAAG,SAAS;AAClB,SAAK,YAAY,EAAU;AAC3B,SAAK,aAAa,IAAI,OAAO;AAAA,EACjC;AAAA,EACA,SAAS;AACL,QAAI,EAAE,OAAO,QAAQ,IAAI;AACzB,WAAQ;AAAA,MAAc;AAAA,MAAO,EAAE,KAAK,KAAK,WAAW,WAAW,oBAAoB;AAAA,MAC/E;AAAA,QAAc;AAAA,QAAS,EAAE,eAAe,MAAM,WAAW,QAAQ,MAAM,SAAS,OAAO,GAAG,OAAO;AAAA,UACzF,UAAU,MAAM;AAAA,UAChB,OAAO,MAAM;AAAA,UACb,QAAQ,MAAM;AAAA,QAClB,EAAE;AAAA,QACF,MAAM;AAAA,QACN,EAAc,mBAAmB,EAAE,YAAY,KAAK,YAAY,MAAM,MAAM,MAAM,WAAW,MAAM,UAAU,CAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EAC5H;AAAA,EACA,oBAAoB;AAChB,SAAK,aAAa;AAAA,EACtB;AAAA,EACA,qBAAqB;AACjB,SAAK,aAAa;AAAA,EACtB;AAAA,EACA,uBAAuB;AACnB,QAAI,KAAK,MAAM,UAAU;AACrB,WAAK,MAAM,SAAS,IAAI;AAAA,IAC5B;AAAA,EACJ;AAAA,EACA,eAAe;AACX,QAAI,EAAE,SAAS,MAAM,IAAI;AACzB,QAAI,MAAM,YACN,MAAM,gBAAgB,MACxB;AACE,UAAI,SAAS,KAAK,UAAU;AAC5B,UAAI,OAAO,cAAc;AACrB,cAAM,SAAS,IAAI,oBAAoB,IAAI,cAAc,KAAK,UAAU,SAAS,eAAe,KAAK,WAAW,YAAY,MAAM,SAAS,GAAG,OAAO,IAAI,GAAG,KAAK,MAAM,aAAa,QAAQ,QAAQ,YAAY,CAAC;AAAA,MACrN;AAAA,IACJ;AAAA,EACJ;AACJ;AACA,SAAS,eAAe,OAAO,WAAW;AACtC,SAAO,UAAU,IAAI,CAAC,aAAa,MAAM,SAAS,GAAG,CAAC;AAC1D;AAEA,SAAS,eAAe,MAAM,QAAQ;AAClC,MAAI,YAAY,CAAC;AACjB,MAAI;AACJ,OAAK,IAAI,GAAG,IAAI,QAAQ,KAAK,GAAG;AAC5B,cAAU,KAAK,CAAC,CAAC;AAAA,EACrB;AACA,MAAI,MAAM;AACN,SAAK,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK,GAAG;AACjC,gBAAU,KAAK,CAAC,EAAE,GAAG,EAAE,KAAK,KAAK,CAAC,CAAC;AAAA,IACvC;AAAA,EACJ;AACA,SAAO;AACX;AACA,SAAS,sBAAsB,IAAI,QAAQ;AACvC,MAAI,QAAQ,CAAC;AACb,MAAI,CAAC,IAAI;AACL,aAAS,IAAI,GAAG,IAAI,QAAQ,KAAK,GAAG;AAChC,YAAM,CAAC,IAAI;AAAA,IACf;AAAA,EACJ,OACK;AACD,aAAS,IAAI,GAAG,IAAI,QAAQ,KAAK,GAAG;AAChC,YAAM,CAAC,IAAI;AAAA,QACP,mBAAmB,GAAG;AAAA,QACtB,SAAS,GAAG;AAAA,QACZ,MAAM,CAAC;AAAA,MACX;AAAA,IACJ;AACA,aAAS,OAAO,GAAG,MAAM;AACrB,YAAM,IAAI,GAAG,EAAE,KAAK,KAAK,GAAG;AAAA,IAChC;AAAA,EACJ;AACA,SAAO;AACX;AAEA,IAAM,kBAAN,cAA8B,cAAc;AAAA,EACxC,SAAS;AACL,QAAI,EAAE,MAAM,IAAI;AAChB,WAAQ,EAAc,mBAAmB,EAAE,WAAW,CAAC,uBAAuB,GAAG,SAAS;AAAA,MAClF,KAAK,MAAM;AAAA,MACX,QAAQ,MAAM;AAAA,IAClB,GAAG,YAAY,MAAM,SAAS,MAAM,WAAW,QAAQ,SAAS,MAAM,YAAY,YAAY,MAAM,YAAY,eAAe,MAAM,eAAe,aAAa,MAAM,aAAa,YAAY,MAAM,YAAY,gBAAgB,MAAM,kBAAkB,MAAM,YAAY,KAAK,GAAG,kBAAkB,oBAAoB,GAAG,CAAC,iBAAkB,EAAc,cAAc,EAAE,OAAO,OAAO,WAAW,CAAC,+BAA+B,WAAW,EAAE,CAAC,CAAE;AAAA,EAC/b;AACJ;AACA,SAAS,oBAAoB,OAAO;AAChC,SAAO,MAAM;AACjB;AAGA,SAAS,iBAAiB,WAAW,aAAa,aAAa;AAC3D,MAAI,YAAY,IAAI,aAAa;AACjC,MAAI,eAAe,MAAM;AACrB,cAAU,cAAc;AAAA,EAC5B;AACA,MAAI,eAAe,MAAM;AACrB,cAAU,cAAc;AAAA,EAC5B;AACA,MAAI,gBAAgB,UAAU,QAAQ,SAAS;AAC/C,MAAI,eAAe,yBAAyB,aAAa;AACzD,MAAI,MAAM,SAAS,SAAS;AAC5B,QAAM,WAAW,KAAK,CAAC;AACvB,MAAI,WAAW,WAAW,GAAG;AAC7B,SAAO,EAAE,UAAU,aAAa;AACpC;AACA,SAAS,SAAS,WAAW;AACzB,QAAM,EAAE,eAAe,IAAI;AAC3B,QAAM,YAAY,UAAU,CAAC,OAAO,YAAY,QAAQ,MAAM,SAAS,CAAC,OAAO,YAAY;AACvF,QAAI,eAAe,kBAAkB,WAAW,OAAO,OAAO;AAC9D,QAAI,eAAe,WAAW,cAAc,SAAS;AACrD,QAAI,QAAQ,eAAe,KAAK,EAAE,OAAO;AACzC,WAAO;AAAA,MACH,OAAO,OAAO,OAAO,OAAO,CAAC,GAAG,KAAK,GAAG,EAAE,gBAAgB,aAAa,CAAC,EAAE,CAAC;AAAA,MAC3E,MAAM,YAAY,aAAa,CAAC;AAAA;AAAA,IACpC;AAAA,EACJ,CAAC;AACD,SAAO,WAAW,eAAe,SAC3B,EAAE,OAAO,GAAG,cAAc,GAAG,YAAY,eAAe,CAAC,EAAE,OAAO,IAClE,MAAM,SAAS,EAAE,CAAC;AAC5B;AACA,SAAS,WAAW,cAAc,WAAW;AACzC,MAAI,CAAC,cAAc;AACf,WAAO,CAAC,CAAC,GAAG,CAAC;AAAA,EACjB;AACA,MAAI,EAAE,OAAO,cAAc,WAAW,IAAI;AAC1C,MAAI,UAAU;AACd,MAAI,QAAQ,CAAC;AACb,SAAO,UAAU,YAAY;AACzB,UAAM,KAAK,UAAU,OAAO,OAAO,CAAC;AACpC,eAAW;AAAA,EACf;AACA,QAAM,KAAK,gBAAgB;AAC3B,SAAO;AAAA,IACH,MAAM,IAAI,WAAW;AAAA,IACrB,MAAM,CAAC,EAAE,CAAC;AAAA;AAAA,EACd;AACJ;AACA,SAAS,iBAAiB,GAAG,GAAG;AAC5B,SAAO,EAAE,CAAC,IAAI,EAAE,CAAC;AACrB;AACA,SAAS,YAAY,GAAG;AACpB,SAAO,EAAE,CAAC;AACd;AACA,SAAS,kBAAkB,WAAW,cAAc,gBAAgB;AAChE,MAAI,EAAE,aAAa,eAAe,IAAI;AACtC,MAAI,eAAe,eAAe,YAAY,EAAE,cAAc;AAC9D,MAAI,eAAe,YAAY,YAAY,IAAI,aAAa;AAC5D,MAAI,WAAW,YAAY;AAC3B,MAAI,QAAQ;AAEZ,SAAO,QAAQ,YAAY,YAAY,KAAK,IAAI,cAAc,SAAS;AACnE;AACJ,SAAO,QAAQ,UAAU,SAAS,GAAG;AACjC,QAAI,UAAU,eAAe,KAAK;AAClC,QAAI;AACJ,QAAI,cAAc,aAAa,SAAS,aAAa,KAAK,OAAO,eAAe;AAChF,QAAI,eAAe,YAAY,CAAC,IAAI,YAAY,CAAC;AACjD,QAAI,aAAa;AACjB;AAAA;AAAA,OACC,QAAQ,QAAQ,UAAU;AAAA,MACvB,MAAM,KAAK,QAAQ,aAAa,KAAK;AAAA,MAAK;AAC1C,oBAAc;AAAA,IAClB;AACA,QAAI,eAAe,YAAY;AAC3B,aAAO,EAAE,OAAO,cAAc,WAAW;AAAA,IAC7C;AAAA,EACJ;AACA,SAAO;AACX;AACA,SAAS,WAAW,eAAe,gBAAgB;AAC/C,QAAM,cAAc,UAAU,CAAC,MAAM,YAAY,kBAAkB,cAAc,IAAI,GAAG,CAAC,MAAM,YAAY,kBAAkB;AACzH,QAAI,EAAE,gBAAgB,UAAU,IAAI;AACpC,QAAI,eAAe,YAAY;AAC/B,QAAI,oBAAoB,YAAY;AACpC,QAAI;AACJ,QAAI,cAAc,CAAC;AACnB,QAAI,CAAC,eAAe,QAAQ;AACxB,iBAAW;AAAA,IACf,OACK;AACD,eAAS,aAAa,gBAAgB;AAClC,YAAI,aAAa,QAAW;AACxB,cAAI,MAAM,YAAY,WAAW,YAAY,YAAY;AACzD,qBAAW,IAAI,CAAC;AAChB,sBAAY,KAAK,IAAI,CAAC,CAAC;AAAA,QAC3B,OACK;AACD,cAAI,MAAM,YAAY,WAAW,UAAU,CAAC;AAC5C,sBAAY,KAAK,IAAI,CAAC,CAAC;AAAA,QAC3B;AAAA,MACJ;AAAA,IACJ;AACA,QAAI,gBAAgB,WAAW,cAAc;AAC7C,WAAO,CAAC,WAAW,cAAc,OAAO,OAAO,OAAO,OAAO,CAAC,GAAG,IAAI,GAAG,EAAE,WAAW,cAAc,gBAAgB,YAAY,CAAC,CAAC;AAAA,EACrI,CAAC;AACD,SAAO,cAAc,IAAI,CAAC,SAAS,YAAY,MAAM,GAAG,CAAC,EAAE,CAAC,CAAC;AACjE;AAEA,SAAS,WAAW,eAAe;AAC/B,MAAI,QAAQ,CAAC;AACb,QAAM,cAAc,UAAU,CAAC,MAAM,YAAY,eAAe,cAAc,IAAI,GAAG,CAAC,MAAM,YAAY,eAAe;AACnH,QAAI,OAAO,OAAO,OAAO,OAAO,OAAO,CAAC,GAAG,IAAI,GAAG;AAAA,MAAE;AAAA,MAChD;AAAA,MAAY,cAAc;AAAA,IAAE,CAAC;AACjC,UAAM,KAAK,IAAI;AACf,WAAQ,KAAK,eAAe,aAAa,KAAK,gBAAgB,aAAa,KAAK,WAAW,aAAa,CAAC,IAAI;AAAA,EACjH,CAAC;AACD,WAAS,aAAa,OAAO,YAAY,YAAY;AACjD,QAAI,eAAe;AACnB,aAAS,QAAQ,OAAO;AACpB,qBAAe,KAAK,IAAI,YAAY,MAAM,YAAY,UAAU,GAAG,YAAY;AAAA,IACnF;AACA,WAAO;AAAA,EACX;AACA,eAAa,eAAe,GAAG,CAAC;AAChC,SAAO;AACX;AAEA,SAAS,UAAU,SAAS,UAAU;AAClC,QAAM,QAAQ,CAAC;AACf,SAAO,IAAI,SAAS;AAChB,QAAI,MAAM,QAAQ,GAAG,IAAI;AACzB,WAAQ,OAAO,QACT,MAAM,GAAG,IACR,MAAM,GAAG,IAAI,SAAS,GAAG,IAAI;AAAA,EACxC;AACJ;AAEA,SAAS,kBAAkB,MAAM,SAAS,aAAa,MAAM,iBAAiB,GAAG;AAC7E,MAAI,UAAU,CAAC;AACf,MAAI,YAAY;AACZ,aAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK,GAAG;AACrC,UAAI,MAAM,KAAK,CAAC;AAChB,UAAI,YAAY,WAAW,eAAe,IAAI,OAAO,OAAO;AAC5D,UAAI,UAAU,KAAK;AAAA,QAAI,aAAa,kBAAkB;AAAA;AAAA,QACtD,WAAW,eAAe,IAAI,KAAK,OAAO;AAAA,MAAC;AAC3C,cAAQ,KAAK;AAAA,QACT,OAAO,KAAK,MAAM,SAAS;AAAA,QAC3B,KAAK,KAAK,MAAM,OAAO;AAAA;AAAA,MAC3B,CAAC;AAAA,IACL;AAAA,EACJ;AACA,SAAO;AACX;AACA,SAAS,uBAAuB,MAAM,YACtC,kBAAkB,eAAe;AAC7B,MAAI,YAAY,CAAC;AACjB,MAAI,WAAW,CAAC;AAChB,WAAS,IAAI,GAAG,IAAI,KAAK,QAAQ,KAAK,GAAG;AACrC,QAAI,UAAU,WAAW,CAAC;AAC1B,QAAI,SAAS;AACT,gBAAU,KAAK;AAAA,QACX,OAAO;AAAA,QACP,WAAW;AAAA,QACX,MAAM;AAAA,MACV,CAAC;AAAA,IACL,OACK;AACD,eAAS,KAAK,KAAK,CAAC,CAAC;AAAA,IACzB;AAAA,EACJ;AACA,MAAI,EAAE,UAAU,aAAa,IAAI,iBAAiB,WAAW,kBAAkB,aAAa;AAC5F,MAAI,gBAAgB,CAAC;AACrB,WAAS,WAAW,UAAU;AAC1B,kBAAc,KAAK;AAAA,MACf,KAAK,KAAK,QAAQ,KAAK;AAAA,MACvB,MAAM;AAAA,IACV,CAAC;AAAA,EACL;AACA,WAAS,WAAW,UAAU;AAC1B,kBAAc,KAAK,EAAE,KAAK,SAAS,MAAM,KAAK,CAAC;AAAA,EACnD;AACA,SAAO,EAAE,eAAe,aAAa;AACzC;AAEA,IAAM,sBAAsB,gBAAgB;AAAA,EACxC,MAAM;AAAA,EACN,QAAQ;AAAA,EACR,UAAU;AACd,CAAC;AACD,IAAM,eAAN,cAA2B,cAAc;AAAA,EACrC,SAAS;AACL,WAAQ,EAAc,eAAe,OAAO,OAAO,CAAC,GAAG,KAAK,OAAO,EAAE,WAAW;AAAA,MACxE;AAAA,MACA;AAAA,MACA,KAAK,MAAM,WAAW;AAAA,IAC1B,GAAG,mBAAmB,oBAAoB,CAAC,CAAC;AAAA,EACpD;AACJ;AAEA,IAAM,UAAN,cAAsB,cAAc;AAAA,EAChC,cAAc;AACV,UAAM,GAAG,SAAS;AAClB,SAAK,gBAAgB,QAAQ,aAAa;AAAA,EAC9C;AAAA;AAAA,EAEA,SAAS;AACL,QAAI,EAAE,OAAO,QAAQ,IAAI;AACzB,QAAI,EAAE,QAAQ,IAAI;AAClB,QAAI,iBAAiB,QAAQ;AAC7B,QAAI;AAAA;AAAA,MACF,MAAM,aAAa,MAAM,UAAU,QAChC,MAAM,eAAe,MAAM,YAAY,QACvC,kBAAkB,MAAM,qBACzB,CAAC;AAAA;AACL,QAAI;AAAA;AAAA,MACF,MAAM,aAAa,MAAM,UAAU,qBAChC,MAAM,eAAe,MAAM,YAAY,qBACxC,CAAC;AAAA;AACL,QAAI,eAAe,KAAK,cAAc,MAAM,aAAa,QAAQ,UAAU;AAC3E,WAAQ,EAAc,kBAAkB,EAAE,OAAO,MAAM,OAAO,MAAM,OAAO,WAAW;AAAA,MAC9E;AAAA,MACA,GAAI,MAAM,mBAAmB,CAAC;AAAA,IAClC,GAAG,SAAS,OAAO,OAAO,EAAE,MAAM,WAAW,GAAG,MAAM,cAAc,GAAG,MAAM,MAAM,MAAM,aAAa,MAAM,aAAa,YAAY,MAAM,YAAY,kBAAkB,MAAM,iBAAiB,GAAG,CAAC,iBAAkB;AAAA,MAAc;AAAA,MAAO,EAAE,WAAW,wBAAwB;AAAA,MAChR;AAAA,QAAc;AAAA,QAAO,EAAE,WAAW,qBAAqB;AAAA,QACnD,KAAK,eAAe,MAAM,kBAAkB,cAAc;AAAA,QAC1D,KAAK,eAAe,MAAM,aAAa,UAAU;AAAA,QACjD,KAAK,eAAe,MAAM,mBAAmB,WAAW;AAAA,MAAC;AAAA,MAC7D,EAAc,OAAO,EAAE,WAAW,yBAAyB,GAAG,KAAK,aAAa,cAAc,8BAA8B,OAAO,OAAO,KAAK,CAAC;AAAA,MAChJ,EAAc,OAAO,EAAE,WAAW,yBAAyB,GAAG,KAAK,aAAa,YAAY,CAAC,GAAG,QAAQ,MAAM,SAAS,GAAG,QAAQ,MAAM,WAAW,GAAG,QAAQ,cAAc,CAAC,CAAC;AAAA,MAC9K,EAAc,OAAO,EAAE,WAAW,sCAAsC,GAAG,KAAK,mBAAmB,MAAM,gBAAgB,CAAC;AAAA,MAC1H,wBAAwB,OAAO,KAAM,EAAc,cAAc,EAAE,OAAO,OAAO,WAAW,CAAC,sBAAsB,EAAE,CAAC;AAAA,IAAE,CAAE;AAAA,EAClI;AAAA,EACA,aAAa,cAAc,gBAAgB,YAAY,YAAY,iBAAiB;AAChF,QAAI,EAAE,MAAM,IAAI;AAChB,QAAI,MAAM,UAAU;AAChB,aAAO,kBAAkB,cAAc,KAAK;AAAA,IAChD;AACA,WAAO,KAAK,uBAAuB,cAAc,gBAAgB,YAAY,YAAY,eAAe;AAAA,EAC5G;AAAA,EACA,uBAAuB,MACvB,gBAAgB,YAAY,YAAY,iBAAiB;AACrD,QAAI,EAAE,eAAe,kBAAkB,kBAAkB,eAAe,IAAI,KAAK,QAAQ;AACzF,QAAI,EAAE,MAAM,YAAY,gBAAgB,YAAY,QAAQ,IAAI,KAAK;AACrE,QAAI,WAAW,cAAc,cAAc;AAC3C,QAAI,aAAa,kBAAkB,MAAM,MAAM,YAAY,cAAc;AACzE,QAAI,EAAE,eAAe,aAAa,IAAI,uBAAuB,MAAM,YAAY,kBAAkB,aAAa;AAC9G,WAAQ;AAAA,MAAc;AAAA,MAAU;AAAA,MAC5B,KAAK,mBAAmB,cAAc,IAAI;AAAA,MAC1C,cAAc,IAAI,CAAC,iBAAiB;AAChC,YAAI,EAAE,KAAK,KAAK,IAAI;AACpB,YAAI,aAAa,IAAI,WAAW,SAAS;AACzC,YAAI,YAAY,YAAY,QAAQ,CAAC,eAAe,UAAU,KAAK,IAAI;AACvE,YAAI,SAAS,iBAAiB,QAAQ,KAAK,IAAI;AAC/C,YAAI,SAAU,CAAC,YAAY,OAAQ,KAAK,iBAAiB,IAAI,IAAI,EAAE,MAAM,GAAG,OAAO,EAAE;AACrF,YAAI,UAAU,QAAQ,IAAI,KAAK,KAAK,eAAe;AACnD,YAAI,UAAU,QAAQ,IAAI,KAAM,KAAK,KAAK,MAAM,KAAK,KAAK,QAAS;AACnE,eAAQ;AAAA,UAAc;AAAA,UAAO,EAAE,WAAW,+BACjC,UAAU,qCAAqC,KAAK,KAAK,YAAY,OAAO,OAAO,OAAO,OAAO,OAAO,EAAE,YAAY,YAAY,KAAK,SAAS,GAAG,MAAM,GAAG,MAAM,EAAE;AAAA,UACzK,EAAc,cAAc,OAAO,OAAO,EAAE,KAAU,YAAwB,YAAwB,iBAAkC,YAAY,eAAe,gBAAgB,QAAiB,GAAG,WAAW,KAAK,YAAY,OAAO,CAAC,CAAC;AAAA,QAAC;AAAA,MACrP,CAAC;AAAA,IAAC;AAAA,EACV;AAAA;AAAA,EAEA,mBAAmB,cAAc,MAAM;AACnC,QAAI,EAAE,eAAe,aAAa,YAAY,SAAS,gBAAgB,WAAW,YAAY,IAAI,KAAK;AACvG,WAAQ,EAAc,GAAU,MAAM,aAAa,IAAI,CAAC,gBAAgB;AACpE,UAAI,cAAc,iBAAiB,YAAY,IAAI;AACnD,UAAI,aAAa,uBAAuB,YAAY,SAAS,IAAI;AACjE,aAAQ,EAAc,iBAAiB,EAAE,KAAK,eAAe,wBAAwB,UAAU,CAAC,GAAG,YAAwB,KAAK,YAAY,KAAK,QAAQ,YAAY,QAAQ,eAA8B,aAA0B,YAAwB,SAAkB,gBAAgC,WAAsB,YAAyB,CAAC;AAAA,IACnW,CAAC,CAAC;AAAA,EACN;AAAA,EACA,eAAe,MAAM,UAAU;AAC3B,QAAI,EAAE,OAAO,QAAQ,IAAI;AACzB,QAAI,aAAa,kBAAkB,MAAM,MAAM,MAAM,MAAM,YAAY,QAAQ,QAAQ,cAAc;AACrG,QAAI,WAAW,WAAW,IAAI,CAAC,SAAS,MAAM;AAC1C,UAAI,MAAM,KAAK,CAAC;AAChB,aAAQ,EAAc,OAAO,EAAE,KAAK,mBAAmB,IAAI,UAAU,GAAG,WAAW,0BAA0B,OAAO,iBAAiB,OAAO,EAAE,GAAG,aAAa,aAC1J,EAAc,SAAS,OAAO,OAAO,EAAE,IAAS,GAAG,WAAW,KAAK,MAAM,YAAY,MAAM,OAAO,CAAC,CAAC,IACpG,WAAW,QAAQ,CAAC;AAAA,IAC5B,CAAC;AACD,WAAO,EAAc,GAAU,MAAM,QAAQ;AAAA,EACjD;AAAA,EACA,mBAAmB,MAAM;AACrB,QAAI,EAAE,YAAY,KAAK,IAAI,KAAK;AAChC,QAAI,CAAC,YAAY;AACb,aAAO;AAAA,IACX;AACA,WAAO,KAAK,IAAI,CAAC,KAAK,MAAO;AAAA,MAAc;AAAA,MAEzC;AAAA;AAAA,QAEE,KAAK;AAAA,QAAG,WAAW,CAAC,gCAAgC;AAAA,QAAG,SAAS;AAAA,UAC5D,KAAK,WAAW,eAAe,IAAI,OAAO,IAAI;AAAA,QAClD;AAAA,QAAG,QAAQ;AAAA,QAAO;AAAA,MAAW;AAAA,IAAC,CAAE;AAAA,EACxC;AAAA,EACA,iBAAiB,YAAY;AACzB,QAAI,EAAE,OAAO,QAAQ,IAAI,KAAK;AAC9B,QAAI,gBAAgB,QAAQ;AAC5B,QAAI,YAAY,WAAW;AAC3B,QAAI,WAAW,WAAW,aAAa,WAAW;AAClD,QAAI;AACJ,QAAI;AACJ,QAAI,eAAe;AAEf,iBAAW,KAAK,IAAI,GAAG,aAAa,WAAW,aAAa,CAAC;AAAA,IACjE;AACA,QAAI,OAAO;AACP,aAAO,IAAI;AACX,cAAQ;AAAA,IACZ,OACK;AACD,aAAO;AACP,cAAQ,IAAI;AAAA,IAChB;AACA,QAAI,QAAQ;AAAA,MACR,QAAQ,WAAW,aAAa;AAAA,MAChC,MAAM,OAAO,MAAM;AAAA,MACnB,OAAO,QAAQ,MAAM;AAAA,IACzB;AACA,QAAI,iBAAiB,CAAC,WAAW,cAAc;AAE3C,YAAM,QAAQ,eAAe,aAAa,IAAI,KAAK;AAAA,IACvD;AACA,WAAO;AAAA,EACX;AACJ;AACA,SAAS,kBAAkB,cAAc,EAAE,YAAY,SAAS,gBAAgB,WAAW,YAAY,GAAG;AACtG,MAAI,mBAAmB,YAAY,UAAU,oBAAoB,UAC5D,cAAc,YAAY,oBAAoB,SAC/C,CAAC;AACL,SAAQ,EAAc,GAAU,MAAM,aAAa,IAAI,CAAC,QAAQ;AAC5D,QAAI,aAAa,IAAI,WAAW,SAAS;AACzC,WAAQ;AAAA,MAAc;AAAA,MAAO,EAAE,KAAK,YAAY,OAAO,EAAE,YAAY,gBAAgB,UAAU,IAAI,WAAW,GAAG,EAAE;AAAA,MAC/G,EAAc,cAAc,OAAO,OAAO,EAAE,KAAU,YAAY,OAAO,YAAY,OAAO,iBAAiB,OAAO,YAAY,eAAe,gBAAgB,SAAS,MAAM,GAAG,WAAW,KAAK,YAAY,OAAO,CAAC,CAAC;AAAA,IAAC;AAAA,EAC/N,CAAC,CAAC;AACN;AACA,SAAS,iBAAiB,YAAY;AAClC,MAAI,CAAC,YAAY;AACb,WAAO,EAAE,KAAK,IAAI,QAAQ,GAAG;AAAA,EACjC;AACA,SAAO;AAAA,IACH,KAAK,WAAW;AAAA,IAChB,QAAQ,CAAC,WAAW;AAAA,EACxB;AACJ;AACA,SAAS,uBAAuB,YAAY,SAAS;AACjD,SAAO,WAAW,IAAI,CAAC,aAAa,QAAQ,SAAS,KAAK,CAAC;AAC/D;AAEA,IAAM,kBAAN,cAA8B,cAAc;AAAA,EACxC,cAAc;AACV,UAAM,GAAG,SAAS;AAClB,SAAK,mBAAmB,QAAQ,cAAc;AAC9C,SAAK,mBAAmB,QAAQ,cAAc;AAC9C,SAAK,wBAAwB,QAAQ,cAAc;AACnD,SAAK,wBAAwB,QAAQ,cAAc;AACnD,SAAK,yBAAyB,QAAQ,cAAc;AACpD,SAAK,iBAAiB,QAAQ,qBAAqB;AACnD,SAAK,mBAAmB,QAAQ,qBAAqB;AACrD,SAAK,YAAY,EAAU;AAC3B,SAAK,aAAa,IAAI,OAAO;AAAA,EACjC;AAAA,EACA,SAAS;AACL,QAAI,EAAE,OAAO,QAAQ,IAAI;AACzB,QAAI,kBAAkB,QAAQ,QAAQ,gBAClC,MAAM,cACN,MAAM,WAAW,eAAe,MAAM,OAAO;AACjD,QAAI,SAAS,MAAM,MAAM;AACzB,QAAI,mBAAmB,KAAK,iBAAiB,MAAM,aAAa,MAAM;AACtE,QAAI,mBAAmB,KAAK,iBAAiB,MAAM,aAAa,MAAM;AACtE,QAAI,wBAAwB,KAAK,sBAAsB,MAAM,kBAAkB,MAAM;AACrF,QAAI,wBAAwB,KAAK,sBAAsB,MAAM,kBAAkB,MAAM;AACrF,QAAI,yBAAyB,KAAK,uBAAuB,MAAM,mBAAmB,MAAM;AACxF,QAAI,iBAAiB,KAAK,eAAe,MAAM,WAAW,MAAM;AAChE,QAAI,mBAAmB,KAAK,iBAAiB,MAAM,aAAa,MAAM;AACtE,WAAQ;AAAA,MAAc;AAAA,MAAO,EAAE,WAAW,oBAAoB,KAAK,KAAK,UAAU;AAAA,MAC9E;AAAA,QAAc;AAAA,QAAS,EAAE,MAAM,gBAAgB,OAAO;AAAA,UAC9C,UAAU,MAAM;AAAA,UAChB,OAAO,MAAM;AAAA,QACjB,EAAE;AAAA,QACF,MAAM;AAAA,QACN;AAAA,UAAc;AAAA,UAAS,EAAE,MAAM,eAAe;AAAA,UAC1C;AAAA,YAAc;AAAA,YAAM,EAAE,MAAM,MAAM;AAAA,YAC9B,MAAM,QAAS;AAAA,cAAc;AAAA,cAAM,EAAE,eAAe,MAAM,WAAW,mCAAmC;AAAA,cACpG;AAAA,gBAAc;AAAA,gBAAO,EAAE,WAAW,wBAAwB;AAAA,gBACtD,EAAc,OAAO,EAAE,WAAW,sCAAsC,GAAG,OAAO,oBAAoB,YAAa,EAAc,uBAAuB,EAAE,WAAW,CAAC,iCAAiC,GAAG,SAAS,EAAE,KAAK,gBAAgB,GAAG,QAAQ,MAAM,MAAM,MAAM,QAAQ,CAAC,CAAE;AAAA,cAAC;AAAA,YAAC;AAAA,YAC5R,MAAM,MAAM,IAAI,CAAC,MAAM,MAAO,EAAc,SAAS,EAAE,KAAK,KAAK,KAAK,OAAO,KAAK,WAAW,UAAU,KAAK,GAAG,GAAG,aAAa,MAAM,aAAa,MAAM,KAAK,MAAM,SAAS,MAAM,SAAS,YAAY,MAAM,YAAY,kBAAkB,KAAK,kBAAkB,gBAAgB,KAAK,gBAAgB,iBAAiB,KAAK,iBAAiB,eAAe,KAAK,eAAe,aAAa,iBAAiB,CAAC,GAAG,aAAa,iBAAiB,CAAC,GAAG,kBAAkB,sBAAsB,CAAC,GAAG,kBAAkB,sBAAsB,CAAC,GAAG,mBAAmB,uBAAuB,CAAC,GAAG,WAAW,eAAe,CAAC,GAAG,aAAa,iBAAiB,CAAC,GAAG,YAAY,MAAM,YAAY,gBAAgB,MAAM,gBAAgB,UAAU,MAAM,SAAS,CAAC,CAAE;AAAA,UAAC;AAAA,QAAC;AAAA,MAAC;AAAA,IAAC;AAAA,EACnvB;AAAA,EACA,oBAAoB;AAChB,SAAK,aAAa;AAAA,EACtB;AAAA,EACA,qBAAqB;AACjB,SAAK,aAAa;AAAA,EACtB;AAAA,EACA,eAAe;AACX,QAAI,EAAE,MAAM,IAAI;AAChB,QAAI,MAAM,eACN,MAAM,gBAAgB,MACxB;AACE,YAAM,YAAY,IAAI;AAAA,QAAc,KAAK,UAAU;AAAA,QAAS,eAAe,KAAK,WAAW,YAAY,MAAM,KAAK;AAAA,QAAG;AAAA;AAAA,QACrH;AAAA,MAAK,CAAC;AAAA,IACV;AAAA,EACJ;AACJ;AACA,SAAS,eAAe,OAAO,OAAO;AAClC,SAAO,MAAM,IAAI,CAAC,SAAS,MAAM,KAAK,GAAG,CAAC;AAC9C;AAIA,IAAM,WAAN,cAAuB,cAAc;AAAA,EACjC,cAAc;AACV,UAAM,GAAG,SAAS;AAClB,SAAK,qBAAqB,QAAQ,kBAAkB;AACpD,SAAK,QAAQ;AAAA,MACT,YAAY;AAAA,IAChB;AACA,SAAK,eAAe,CAAC,OAAO;AACxB,UAAI,IAAI;AACJ,aAAK,QAAQ,6BAA6B,MAAM;AAAA,UAC5C;AAAA,UACA,mBAAmB,KAAK,MAAM;AAAA,QAClC,CAAC;AAAA,MACL,OACK;AACD,aAAK,QAAQ,+BAA+B,IAAI;AAAA,MACpD;AAAA,IACJ;AACA,SAAK,sBAAsB,CAAC,YAAY;AACpC,UAAI,EAAE,mBAAmB,IAAI,KAAK;AAClC,UAAI,EAAE,WAAW,IAAI,KAAK;AAC1B,UAAI,sBAAsB,YAAY;AAClC,YAAI,QAAQ,MAAM;AACd,cAAI,MAAM,WAAW,eAAe,QAAQ,IAAI;AAChD,gBAAM,KAAK,KAAK,GAAG;AACnB,cAAI,KAAK;AACL,mBAAO;AAAA,UACX;AACA,6BAAmB,GAAG;AAAA,QAC1B;AACA,eAAO;AAAA,MACX;AACA,aAAO;AAAA,IACX;AACA,SAAK,kBAAkB,CAAC,cAAc;AAClC,WAAK,YAAY;AAAA,IACrB;AACA,SAAK,mBAAmB,CAAC,eAAe;AACpC,WAAK,SAAS,EAAE,WAAW,CAAC;AAC5B,UAAI,KAAK,MAAM,cAAc;AACzB,aAAK,MAAM,aAAa,UAAU;AAAA,MACtC;AAAA,IACJ;AAAA,EACJ;AAAA,EACA,SAAS;AACL,QAAI,EAAE,OAAO,MAAM,IAAI;AACvB,WAAQ;AAAA,MAAc;AAAA,MAAO,EAAE,WAAW,oBAAoB,KAAK,KAAK,cAAc,OAAO;AAAA;AAAA;AAAA,QAGrF,OAAO,MAAM;AAAA,QACb,UAAU,MAAM;AAAA,MACpB,EAAE;AAAA,MACF,EAAc,eAAe,EAAE,MAAM,MAAM,MAAM,aAAa,MAAM,aAAa,WAAW,MAAM,WAAW,aAAa,MAAM,aAAa,WAAW,MAAM,aAAa,MAAM,eAAe,IAAI,eAAe,MAAM,eAAe,mBAAmB,MAAM,OAAO,MAAM,oBAAoB,MAAqD,UAAU,KAAK,iBAAiB,CAAC;AAAA,MACxX,EAAc,iBAAiB,EAAE,OAAO,MAAM,OAAO,MAAM,MAAM,MAAM,aAAa,MAAM,aAAa,kBAAkB,MAAM,kBAAkB,aAAa,MAAM,aAAa,aAAa,MAAM,aAAa,mBAAmB,MAAM,mBAAmB,gBAAgB,MAAM,gBAAgB,WAAW,MAAM,WAAW,aAAa,MAAM,aAAa,YAAY,MAAM,YAAY,SAAS,MAAM,SAAS,kBAAkB,MAAM,kBAAkB,aAAa,MAAM,aAAa,eAAe,MAAM,eAAe,mBAAmB,MAAM,mBAAmB,YAAY,MAAM,YAAY,aAAa,KAAK,iBAAiB,UAAU,MAAM,SAAS,CAAC;AAAA,IAAC;AAAA,EACnpB;AAAA,EACA,oBAAoB;AAChB,SAAK,kBAAkB,KAAK,QAAQ,sBAAsB,KAAK,mBAAmB;AAAA,EACtF;AAAA,EACA,mBAAmB,WAAW;AAC1B,SAAK,gBAAgB,OAAO,UAAU,gBAAgB,KAAK,MAAM,WAAW;AAAA,EAChF;AAAA,EACA,uBAAuB;AACnB,SAAK,gBAAgB,OAAO;AAAA,EAChC;AAAA,EACA,SAAS,cAAc,aAAa;AAChC,QAAI,EAAE,SAAS,QAAQ,IAAI,KAAK;AAChC,QAAI,EAAE,UAAU,IAAI;AACpB,QAAI,EAAE,YAAY,IAAI,KAAK;AAC3B,QAAI,EAAE,WAAW,IAAI,KAAK;AAC1B,QAAI,EAAE,cAAc,aAAa,IAAI,KAAK,mBAAmB,KAAK,MAAM,cAAc,QAAQ,YAAY;AAC1G,QAAI,WAAW,UAAU,YAAY,YAAY;AACjD,QAAI,YAAY,WAAW,UAAU,WAAW,WAAW;AAC3D,QAAI,YAAY,QAAQ,aAAa,MAAM;AACvC,UAAI,OAAO,KAAK,MAAM,MAAM,QAAQ;AACpC,UAAI,UAAU,WAAW,UAAU,KAAK,SAAS;AACjD,UAAI,aAAa,WAAW,UAAU,UAAU,SAAS;AACzD,UAAI,WAAW,cAAc,WAAW;AACxC,UAAI,iBAAiB,KAAK,MAAM,UAAU,YAAY;AACtD,UAAI,YAAY,YAAY,eAAe;AAC3C,UAAI,UAAU,KAAK,MAAM,MAAM,QAAQ,EAAE;AACzC,UAAI,OAAO,aAAa,YAAY,aAAa,iBAAiB,cAAc,SAAS,CAAC;AAC1F,UAAI,QAAQ,QAAQ,IAAI,SAAS,IAAI;AACrC,UAAI,MAAM,QAAQ,IAAI,OAAO,YAAY;AACzC,aAAO;AAAA,QACH;AAAA,QACA,UAAU,OAAO,OAAO,EAAE,OAAO,EAAE,OAAO,IAAI,GAAG,QAAQ,MAAM,GAAG,KAAK,aAAa;AAAA,QACpF,OAAO,UAAU,IAAI,QAAQ;AAAA,QAC7B,MAAM;AAAA,UACF,MAAM,UAAU,MAAM,QAAQ;AAAA,UAC9B,OAAO,UAAU,OAAO,QAAQ;AAAA,UAChC,KAAK;AAAA,UACL,QAAQ,UAAU;AAAA,QACtB;AAAA,QACA,OAAO;AAAA,MACX;AAAA,IACJ;AACA,WAAO;AAAA,EACX;AACJ;AACA,SAAS,mBAAmB,cAAc,sBAAsB;AAC5D,MAAI,eAAe,wBAAwB;AAC3C,MAAI,eAAe,qBAAqB,cAAc,YAAY;AAClE,MAAI,iBAAiB,MAAM;AACvB,mBAAe;AACf,mBAAe;AAAA,EAEnB;AACA,SAAO,EAAE,cAAc,aAAa;AACxC;AAEA,IAAM,oBAAN,cAAgC,OAAO;AAAA,EACnC,WAAW,OAAO,WAAW;AACzB,QAAI,OAAO,CAAC;AACZ,aAAS,MAAM,GAAG,MAAM,UAAU,QAAQ,OAAO,GAAG;AAChD,UAAI,WAAW,gBAAgB,OAAO,UAAU,GAAG,CAAC;AACpD,UAAI,UAAU;AACV,aAAK,KAAK;AAAA,UACN,OAAO,SAAS;AAAA,UAChB,KAAK,SAAS;AAAA,UACd,SAAS,SAAS,MAAM,QAAQ,MAAM,MAAM,MAAM,QAAQ;AAAA,UAC1D,OAAO,SAAS,IAAI,QAAQ,MAAM,MAAM,IAAI,QAAQ;AAAA,UACpD;AAAA,QACJ,CAAC;AAAA,MACL;AAAA,IACJ;AACA,WAAO;AAAA,EACX;AACJ;AAEA,IAAM,cAAN,cAA0B,cAAc;AAAA,EACpC,cAAc;AACV,UAAM,GAAG,SAAS;AAClB,SAAK,iBAAiB,QAAQ,cAAc;AAC5C,SAAK,SAAS,IAAI,kBAAkB;AACpC,SAAK,cAAc,EAAU;AAAA,EACjC;AAAA,EACA,SAAS;AACL,QAAI,EAAE,OAAO,QAAQ,IAAI;AACzB,QAAI,EAAE,aAAa,cAAc,IAAI;AACrC,QAAI,EAAE,cAAc,iBAAiB,IAAI,QAAQ;AACjD,QAAI,YAAY,KAAK,eAAe,eAAe,aAAa,QAAQ,OAAO;AAG/E,WAAQ,EAAc,UAAU,EAAE,MAAM,eAAe,WAAW,MAAM,GAAG,CAAC,SAAS,eAAgB,EAAc,UAAU,OAAO,OAAO,EAAE,KAAK,KAAK,YAAY,GAAG,KAAK,OAAO,WAAW,OAAO,aAAa,MAAM,SAAS,SAAS,GAAG,EAAE,UAAU,MAAM,UAAU,MAAM,MAAM,MAAM,aAA0B,WAAW,MAAM,WAAW,cAAc,MAAM,cAAc,OAAO,cAAc,MAAM,CAAC,GAAG,mBAAmB,MAAM,mBAAmB,eAAe,MAAM,eAAe,aAAa,MAAM,aAAa,cAAc,MAAM,cAAc,YAAY,MAAM,YAAY,SAAkB,kBAAkB,gBAAgB,KAAK,OAAO,aAAa,SAAS,aAAa,kBAAkB,SAAS,SAAS,GAAG,YAAwB,oBAAoB,MAAM,oBAAoB,cAAc,MAAM,aAAa,CAAC,CAAC,CAAE;AAAA,EAC1zB;AACJ;AACA,SAAS,eAAe,eAAe,aAAa,SAAS;AACzD,MAAI,SAAS,CAAC;AACd,WAAS,QAAQ,cAAc,aAAa;AACxC,WAAO,KAAK;AAAA,MACR,OAAO,QAAQ,IAAI,MAAM,YAAY,WAAW;AAAA,MAChD,KAAK,QAAQ,IAAI,MAAM,YAAY,WAAW;AAAA,IAClD,CAAC;AAAA,EACL;AACA,SAAO;AACX;AAIA,IAAM,sBAAsB;AAAA,EACxB,EAAE,OAAO,EAAE;AAAA,EACX,EAAE,SAAS,GAAG;AAAA,EACd,EAAE,SAAS,GAAG;AAAA,EACd,EAAE,SAAS,GAAG;AAAA,EACd,EAAE,SAAS,GAAG;AAClB;AACA,SAAS,eAAe,aAAa,aAAa,uBAAuB,cAAc,SAAS;AAC5F,MAAI,WAAW,oBAAI,KAAK,CAAC;AACzB,MAAI,WAAW;AACf,MAAI,eAAe,eAAe,CAAC;AACnC,MAAI,gBAAgB,yBAAyB,qBAAqB,YAAY;AAC9E,MAAI,QAAQ,CAAC;AACb,SAAO,UAAU,QAAQ,IAAI,UAAU,WAAW,GAAG;AACjD,QAAI,OAAO,QAAQ,IAAI,UAAU,QAAQ;AACzC,QAAI,YAAY,qBAAqB,cAAc,aAAa,MAAM;AACtE,UAAM,KAAK;AAAA,MACP;AAAA,MACA,MAAM;AAAA,MACN,KAAK,KAAK,YAAY;AAAA,MACtB,YAAY,oBAAoB,IAAI;AAAA,MACpC;AAAA,IACJ,CAAC;AACD,eAAW,aAAa,UAAU,YAAY;AAC9C,mBAAe,aAAa,cAAc,YAAY;AAAA,EAC1D;AACA,SAAO;AACX;AAEA,SAAS,qBAAqB,cAAc;AACxC,MAAI;AACJ,MAAI;AACJ,MAAI;AAEJ,OAAK,IAAI,oBAAoB,SAAS,GAAG,KAAK,GAAG,KAAK,GAAG;AACrD,oBAAgB,eAAe,oBAAoB,CAAC,CAAC;AACrD,oBAAgB,qBAAqB,eAAe,YAAY;AAChE,QAAI,kBAAkB,QAAQ,gBAAgB,GAAG;AAC7C,aAAO;AAAA,IACX;AAAA,EACJ;AACA,SAAO;AACX;AAEA,IAAM,kBAAN,cAA8B,aAAa;AAAA,EACvC,cAAc;AACV,UAAM,GAAG,SAAS;AAClB,SAAK,qBAAqB,QAAQ,kBAAkB;AACpD,SAAK,iBAAiB,QAAQ,cAAc;AAAA,EAChD;AAAA,EACA,SAAS;AACL,QAAI,EAAE,SAAS,SAAS,qBAAqB,IAAI,KAAK;AACtD,QAAI,EAAE,MAAM,IAAI;AAChB,QAAI,EAAE,YAAY,IAAI;AACtB,QAAI,gBAAgB,KAAK,mBAAmB,aAAa,oBAAoB;AAC7E,QAAI,aAAa,KAAK,eAAe,WAAW,KAAK;AACrD,QAAI,YAAY,KAAK,eAAe,YAAY,aAAa,YAAY,aAAa,QAAQ,mBAAmB,QAAQ,cAAc,OAAO;AAC9I,QAAI,EAAE,YAAY,IAAI;AACtB,QAAI,kBAAkB,CAAC;AACvB,QAAI,kBAAkB;AACtB,QAAI,gBAAgB,QAAQ,cAAe,EAAc,WAAW,EAAE,OAAO,cAAc,aAAa,aAA0B,sBAAsB,MAAM,aAAa,kBAAkB,KAAK,iBAAiB,KAAK,CAAC;AACzN,QAAI,gBAAiB,QAAQ,eAAe,UAAW,CAAC,eAAgB,EAAc,UAAU,OAAO,OAAO,CAAC,GAAG,WAAW,QAAQ,EAAE,aAA0B,eAA8B,kBAAkB,QAAQ,kBAAkB,eAAe,WAAW,eAAe,cAAc,WAAW,mBAAmB,gBAAgB,kBAAkB,KAAK,qBAAqB,MAAM,iBAAiB,OAAO,YAAY,OAAO,kBAAkB,KAAK,aAAa,aAAa,WAAW,aAAa,cAAc,WAAW,cAAc,UAAU,MAAM,SAAS,GAAG,KAAK,uBAAuB,CAAC,CAAC;AACvlB,QAAI,kBAAkB,CAAC,eAAgB,EAAc,aAAa,OAAO,OAAO,CAAC,GAAG,WAAW,OAAO,EAAE,eAA8B,aAA0B,MAAM,iBAAiB,cAAc,QAAQ,cAAc,WAAsB,UAAU,MAAM,UAAU,mBAAmB,WAAW,mBAAmB,eAAe,WAAW,eAAe,aAAa,WAAW,aAAa,cAAc,WAAW,cAAc,cAAc,KAAK,kBAAkB,YAAY,WAAW,YAAY,oBAAoB,KAAK,uBAAuB,CAAC,CAAC;AAC3iB,WAAO,kBACD,KAAK,oBAAoB,eAAe,eAAe,iBAAiB,cAAc,QAAQ,aAAa,WAAW,KAAK,MAAM,UAAU,IAC3I,KAAK,mBAAmB,eAAe,eAAe,eAAe;AAAA,EAC/E;AACJ;AACA,SAAS,mBAAmB,aAAa,sBAAsB;AAC3D,MAAI,YAAY,IAAI,eAAe,YAAY,aAAa,oBAAoB;AAChF,SAAO,IAAI,cAAc,WAAW,KAAK;AAC7C;;;AC7mCA,IAAM,kBAAkB;AAAA,EACpB,YAAY;AAChB;AAEA,IAAI,WAAW;AACf,aAAa,QAAQ;AAErB,IAAI,QAAQ,aAAa;AAAA,EACrB,MAAM;AAAA,EACN,aAAa;AAAA,EACb,gBAAgB;AAAA,EAChB,OAAO;AAAA,IACH,UAAU;AAAA,MACN,WAAW;AAAA,MACX,gBAAgB;AAAA,MAChB,YAAY;AAAA,MACZ,cAAc;AAAA,MACd,kBAAkB;AAAA;AAAA,IACtB;AAAA,IACA,aAAa;AAAA,MACT,MAAM;AAAA,MACN,UAAU,EAAE,MAAM,EAAE;AAAA,IACxB;AAAA,IACA,cAAc;AAAA,MACV,MAAM;AAAA,MACN,UAAU,EAAE,OAAO,EAAE;AAAA,IACzB;AAAA,EACJ;AACJ,CAAC;",
  "names": []
}
