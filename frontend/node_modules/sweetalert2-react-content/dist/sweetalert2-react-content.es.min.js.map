{"version":3,"file":"sweetalert2-react-content.es.min.js","sources":["../src/mounts.js","../src/index.js"],"sourcesContent":["export const mounts = [\n  {\n    key: 'title',\n    getter: (swal) => swal.getTitle(),\n  },\n  {\n    key: 'html',\n    getter: (swal) => swal.getHtmlContainer(),\n  },\n  {\n    key: 'confirmButtonText',\n    getter: (swal) => swal.getConfirmButton(),\n  },\n  {\n    key: 'denyButtonText',\n    getter: (swal) => swal.getDenyButton(),\n  },\n  {\n    key: 'cancelButtonText',\n    getter: (swal) => swal.getCancelButton(),\n  },\n  {\n    key: 'footer',\n    getter: (swal) => swal.getFooter(),\n  },\n  {\n    key: 'closeButtonHtml',\n    getter: (swal) => swal.getCloseButton(),\n  },\n  {\n    key: 'iconHtml',\n    getter: (swal) => swal.getIconContent(),\n  },\n  {\n    key: 'loaderHtml',\n    getter: (swal) => swal.getLoader(),\n  },\n]\n","import React from 'react'\nimport { createRoot } from 'react-dom/client'\nimport { mounts } from './mounts'\n\nconst noop = () => {} // eslint-disable-line @typescript-eslint/no-empty-function\n\nexport default function withReactContent(ParentSwal) {\n  /* Returns `params` separated into a tuple of `reactParams` (the React params that need to be rendered)\n  and`otherParams` (all the other parameters, with any React params replaced with a space ' ') */\n  function extractReactParams(params) {\n    const reactParams = {}\n    const otherParams = {}\n    const mountKeys = mounts.map((mount) => mount.key)\n    Object.entries(params).forEach(([key, value]) => {\n      if (mountKeys.includes(key) && React.isValidElement(value)) {\n        reactParams[key] = value\n        otherParams[key] = ' '\n      } else {\n        otherParams[key] = value\n      }\n    })\n    return [reactParams, otherParams]\n  }\n\n  function render(swal, reactParams) {\n    Object.entries(reactParams).forEach(([key, value]) => {\n      const mount = mounts.find((mount) => mount.key === key)\n      const domElement = mount.getter(ParentSwal)\n      const root = createRoot(domElement)\n      root.render(value)\n      swal.__roots.push(root)\n    })\n  }\n\n  function unrender(swal) {\n    swal.__roots.forEach((root) => {\n      root.unmount()\n    })\n    swal.__roots = []\n  }\n\n  return class extends ParentSwal {\n    static argsToParams(args) {\n      if (React.isValidElement(args[0]) || React.isValidElement(args[1])) {\n        const params = {}\n        ;['title', 'html', 'icon'].forEach((name, index) => {\n          if (args[index] !== undefined) {\n            params[name] = args[index]\n          }\n        })\n        return params\n      } else {\n        return ParentSwal.argsToParams(args)\n      }\n    }\n\n    _main(params, mixinParams) {\n      this.__roots = []\n      this.__params = Object.assign({}, mixinParams, params)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      const superWillOpen = otherParams.willOpen || noop\n      const superDidOpen = otherParams.didOpen || noop\n      const superDidDestroy = otherParams.didDestroy || noop\n      return super._main(\n        Object.assign({}, otherParams, {\n          willOpen: (popup) => {\n            render(this, reactParams)\n            superWillOpen(popup)\n          },\n          didOpen: (popup) => {\n            // read more about why this setTimeout is needed here:\n            // https://github.com/reactwg/react-18/discussions/5 (What about the render callback?)\n            setTimeout(() => {\n              superDidOpen(popup)\n            })\n          },\n          didDestroy: (popup) => {\n            superDidDestroy(popup)\n            unrender(this)\n          },\n        })\n      )\n    }\n\n    update(params) {\n      Object.assign(this.__params, params)\n      unrender(this)\n      const [reactParams, otherParams] = extractReactParams(this.__params)\n      super.update(otherParams)\n      render(this, reactParams)\n    }\n  }\n}\n"],"names":["mounts","globalThis","global","self","sweetalert2ReactContent","factory","React","ReactDOM","key","client","swal","getter","getLoader","noop","extractReactParams","mountKeys","params","Object","entries","forEach","otherParams","includes","map","reactParams","_ref","isValidElement","value","mount","_ref2","domElement","find","ParentSwal","root","createRoot","render","unrender","__roots","unmount","argsToParams","static","args","name","index","undefined","_main","mixinParams","this","didOpen","__params","superWillOpen","willOpen","didDestroy","super","assign","popup","setTimeout","superDidDestroy","update"],"mappings":";iNAAaA,EACX,oBAAAC,WAAAA,WAAAC,GAAAC,MAAAC,wBAAAC,EAAAH,EAAAI,MAAAJ,EAAAK,SACEC,EAAAA,MAAY,SAAAF,EAAAG,GAAA,aAGd,MAAAT,EAAA,CAAA,CACEQ,IAAW,eACFE,GAAaA,cAExB,CACEF,IAAwB,cACfE,GAAaA,sBAExB,CACEF,IAAqB,2BACZE,GAAaA,sBAExB,CACEF,IAAuB,wBACdE,GAAaA,mBAExB,CACEF,IAAa,0BACJE,GAAaA,qBAExB,CACEF,IAAsB,gBACbE,GAAaA,eAExB,CACEF,IAAe,yBACNE,GAAaA,oBAExB,CACEF,IAAiB,kBACRE,GAAaA,oBAEzB,kBCjCDC,OAAUD,GAASA,EAAGE,cAGpBC,EAAA,cAEA,SAASC,GAGP,SAAMC,EAAsBC,GAC5BC,MAAOC,EAAe,CAACC,EAAaC,KAC9BL,EAAUM,EAAYC,KAAKhB,GAAAA,EAAAA,MAWjCW,OAVIM,eAAYf,YAAYgB,IACxBJ,SAAmBI,EACdT,EAAAM,SAAAb,IAAAF,EAAAmB,eAAAC,MACOlB,KACdY,EAAAZ,GAAA,OAEMe,GAAaH,CACvB,IAGSF,CAAAA,EAAQK,EAAuC,CACpD,SAAMI,EAAQ3B,EAAMuB,GACpBN,kBAA+BE,SAAWS,QAChCpB,EAAAkB,WAEEG,EADAH,EAAMI,MAAAH,GAAAA,EAAAnB,MAAAA,IACKG,OAAAoB,GACvBC,EAAAvB,EAAAwB,WAAAJ,GACJG,EAAAE,OAAAR,GAESS,EAAAA,QAASzB,KAAMsB,EAAA,IAGtB,SAAEG,EAAAzB,GACEA,EAAQ0B,QAAGjB,SAAEa,IACnBA,EAAAK,SAAA,IAGSC,EAAAA,QAAAA,EACL,QACQtB,cAAWe,EAChBQ,oBAAkBC,GACjB,GAAelC,iBAAgBkC,EAAA,KAAAlC,EAAAmB,eAAAe,EAAA,IAAA,CAC7BxB,MAAAA,KAMN,MALI,CAAA,QAAA,OAAA,QAAAG,SAAA,CAAAsB,EAAAC,UACAC,IAAAH,EAAAE,KACF1B,EAAayB,GAAAD,EAAAE,GACR,IAEP1B,CACF,CAEMA,OAAMe,eAAeS,EAEzB,CACAI,MAAM5B,EAAY6B,GAClBC,gBACAA,cAAkB7B,OAAGG,OAAW,CAAC2B,EAAOF,EAAQ7B,GAChD,QAAwBI,GAAsBN,EAAQgC,KAAAE,UAC/CC,EACLhC,EAAkBG,UAAWP,EAC3BqC,EAAqB9B,EAAA2B,SAAAlC,IACNU,EAAY4B,YAAAtC,SACZuC,MAAAR,MAAM3B,OAACoC,OAAA,CAAA,EAAAjC,EAAA,CACrB8B,SAAAI,IACDP,EAAUO,KAAU/B,GAClB0B,EAAAK,EAAA,EAEAC,QAAAA,IAGDA,YAAA,KACDJ,EAAuBG,EAAA,GACN,EAEjBH,WAAAG,IAEHE,EAAAF,GACHnB,EAAAW,KAAA,IAIEX,CACAsB,OAAOlC,UACDkC,OAAOrC,KAAAA,SAAYJ,KACd8B,MACb,MAAAvB,EAAAH,GAAAN,EAAAgC,KAAAE,UACDI,MAAAK,OAAArC,GACHc,EAAAY,KAAAvB"}